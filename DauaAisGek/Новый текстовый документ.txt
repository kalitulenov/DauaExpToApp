<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <title>РПН</title>
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <link href="/Content/css?v=lYkaJsrwMD5mOxQWMsIP5UHF81BoFfuXQAyMBWQn6Tg1" rel="stylesheet">

    <script src="/bundles/modernizr?v=K-FFpFNtIXPUlQamnX3qHX_A5r7TM2xbAgcuEmpm3O41"></script>

</head>
<body class="">
    <div style="display: none;" data-bind="visible: loading">Загрузка...</div>
    <div data-bind="if: loggedIn"><span style="display: none;" data-bind="visible: loadingUserData">Загрузка данных пользователя</span></div>

    <div style="" data-bind="visible: true" class="container body-content">
        <!-- Fixed navbar -->
        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        
                        <li class="dropdown" data-bind="if: loggedIn"><a href="#" class="navbar-link" data-bind="click: navigateToHome">Главная</a></li>
                        <li class="dropdown" data-bind="if: loadedUserData">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Меню<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li data-bind="visible: (isFLAttach() || isViewPerson())"><a href="#" class="navbar-link" data-bind="click: navigateToFlAttach, enadle: loadedUserData">Ведение регистра физлиц</a></li>
                                <li data-bind="visible: isTerritory()"><a href="#" class="navbar-link" data-bind="click: navigateToTerritory, enadle: loadedUserData">Ведение сведений об участках</a></li>
                                <li data-bind="visible: isRojdSv()"><a href="#" class="navbar-link" data-bind="click: navigateToRojdSv, enadle: loadedUserData">Свидетельства о рождении</a></li>
                                <li data-bind="visible: isDeathSv()"><a href="#" class="navbar-link" data-bind="click: navigateToDeathSv, enadle: loadedUserData">Свидетельства о смерти</a></li>
                                <li style="display: none;" data-bind="visible: isAdmin()"><a href="#" class="navbar-link" data-bind="click: navigateToReSendSv, enadle: loadedUserData">Переотправка свидетельств о рождении/смерти</a></li>
                                <li style="display: none;" data-bind="visible: isAttachProccesing()"><a href="#" class="navbar-link" data-bind="click: navigateToProcessAttach, enadle: loadedUserData">Обработка запросов на прикрепление/открепление</a></li>                            
                                <li style="display: none;" data-bind="visible: isAdresAdmin()"><a href="#" class="navbar-link" data-bind="click: navigateToAdresAdmin, enadle: loadedUserData">Администрирование адресов</a></li>
                                <li data-bind="visible: isPersonalMO()"><a href="#" class="navbar-link" data-bind="click: navigateToPersonalMO, enadle: loadedUserData">Ведение данных по персоналу МО</a></li>
                                <li data-bind="visible: isApplicationAttach()"><a href="#" class="navbar-link" data-bind="click: navigateToApplicationAttach, enadle: loadedUserData">Заявки на прикрепление</a></li>
                                <li style="display: none;" data-bind="visible: isEliminationDoubles()"><a href="#" class="navbar-link" data-bind="click: navigateToTargetAcc, enadle: loadedUserData">Устранение двойных записей</a></li>
                                <li data-bind="visible: isApplicationAttach()"><a href="#" class="navbar-link" data-bind="click: navigateToCheckDeath, enadle: loadedUserData">Журнал сообщений о смерти прикрепленного населения</a></li>
                                <li style="display: none;" data-bind="visible: false"><a href="#" class="navbar-link" data-bind="click: navigateToStaffSurRpn, enadle: loadedUserData">Заполнение таблицы соответсвия</a></li>

                                
                            </ul>
                        </li>
                        <li class="dropdown" data-bind="with: user">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Перейти<b class="caret"></b></a>
                            <ul class="dropdown-menu" data-bind="foreach:Urls">
                                <li><a href="https://www.eisz.kz" data-bind="attr: { href: Url}"><p data-bind="text:Name">ЕТА</p></a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Язык<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a href="/kk-KZ">?аза?ша</a></li>
                                <li><a href="/ru-RU">Русский</a></li>
                            </ul>
                        </li>
                        <li class="dropdown" data-bind="if: loggedIn"><a href="#" class="navbar-link" data-bind="click: goToETD">Отчеты</a></li>
                        <li class="dropdown" data-bind="if: loggedIn"><a href="http://rpnv2.eisz.kz/%D0%A0%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BF%D0%BE%20%D0%A0%D0%9F%D0%9D_%D0%BD%D0%BE%D0%B2%D1%8B%D0%B9.doc" class="navbar-link">Руководство пользователя</a></li>
                    </ul>
                    <div data-bind="if: loggedIn" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav navbar-right" data-bind="with: user">
                            <li>
                                <span class="navbar-text nofloat">Здравствуйте, <a href="#" class="navbar-link" data-bind="text: fio">ТУЛЕНОВ КАЛИ </a>!</span>
                            </li>
                            <li><a href="#" class="navbar-link" data-bind="click: logOff">Выход</a></li>
                        </ul>
                       
                    </div>
                </div><!--/.nav-collapse -->
            </div>
        </div>

        
        

        <div data-bind="foreach: errors" class="padding-error"></div>
     

        <script type="text/html" id="address-template">
    <h5 class="h5" data-bind="text: formatAddressType"></h5>
    <div>
        <div class="col-md-4 col-lg-4 col-sm-4">
            Дата начала:
            <label class="control-label" data-bind="text: beginDateFormat"></label>
        </div>
        <div class="col-md-4 col-lg-4 col-sm-4">
            Дата окончания:
            <label class="control-label" data-bind="text: endDateFormat"></label>
        </div>
        <div class="col-md-4 col-lg-4 col-sm-4">
            Основной:<label class="control-label" data-bind="text: formatIsMain"></label>
        </div>
    </div>
    <div>
        <div class="col-md-12 col-lg-12 col-sm-12">Адрес:<label class="control-label" data-bind="text: addressString"></label></div>
    </div>
</script>
        <script type="text/html" id="attachment-template">
    <div class="col-md-4 col-lg-4 col-sm-4">
        <div>
            
            Статус:
            <label class="control-label"
                   data-bind="style: { color: attachmentStatusIsAccept() ? 'green' : 'red' }, text: attachmentStatusFormat">
            </label>
        </div>
        <div>
            Мед.организация:
            <label class="control-label" data-bind="text: orgHealthCareFormat" style="color: green"></label>
        </div>
    </div>
    <div class="col-md-4 col-lg-4  col-sm-4">
        <div>
            Причина:
            <label class="control-label" data-bind="text: causeOfAttachFormat"></label>
        </div>
        <div>
            Дата начала:
            <label class="control-label" data-bind="text: beginDateFormat"></label>
        </div>
        <div>
            Дата окончания:
            <label class="control-label" data-bind="text: endDateFormat"></label>
        </div>

    </div>
    <div class="col-md-4 col-lg-4  col-sm-4">
        <div>
            Номер участка:
            <label class="control-label" data-bind="text: titleWithProfile"></label>
        </div>
        <div>
            Номер запроса:
            <label class="control-label" data-bind="text: Num"></label>
        </div>
        
        <div>
            Обслуживание на дому:
            <label class="control-label" data-bind="text: careAtHomeFormat"></label>
        </div>
    </div>

</script>
        <script type="text/html" id="createAttachmentReqestTemplate">
    <form class="form-horizontal" role="form" data-bind="with: newRequestAttachment">
        <ul class="text-danger" data-bind="foreach: errors">
            <li data-bind="text: $data"></li>
        </ul>
        <div class="form-group">
            <label class="col-md-4 control-label">Номер запроса:</label>
            <div class="col-md-8">
                <input type="text" readonly data-bind="value: Num" class="form-control" />
            </div>
        </div>
        
        <div class="form-group">
            <label for="inpSelCauseReqAttach" class="col-md-2 control-label">Причина:</label>
            <div class="col-md-10">
                <select id="inpSelCauseReqAttach" class="form-control"
                        data-bind="options: $parents[2].attachCausesArray, optionsText: 'name', value: causeOfAttach, event: {change: clearPersonAddress} "></select>

            </div>
        </div>

        <div class="form-group">
            <label for="selAddress" class="control-label col-md-2">Адрес:</label>
            <div class="col-md-10 list-inline" data-bind="validationOptions: { insertMessages: false}">
                
                <select class="form-control col-lg-9" id="selAddress"
                        data-bind="visible: $parent.addresses().length > 0, enable: causeOfAttach().id != 2, options: $parent.addresses, optionsText: 'addressString', value: personAddress, optionsCaption: 'Выберите адрес...'">
                </select>
                
                <button type="button" class="btn btn-primary btn-sm col-lg-1" data-bind="enable: $parents[2].isAddressesLoaded, click: $parents[2].showAddAddressPerson">
                    <span class="glyphicon glyphicon-plus"></span>
                </button>
            </div>
        </div>
        <div class="field-validation-error" data-bind="validationMessage: personAddress"></div>
        <div class="form-group" data-bind="with: personAddress">
            <span class="col-md-10 col-md-push-1" data-bind="text: addressString"></span>
        </div>

        <div class="form-group">
            <label for="selTerritory" class="col-md-2 control-label">Участок:</label>
            <div class="col-md-10">
                <select class="form-control" id="selTerritory" data-bind="options: $parents[2].filterTerritories, optionsText: 'titleWithProfile', value: territotyService, optionsCaption: 'Выберите участок...'"></select>
            </div>
        </div>
        <div class="form-group">
            <label for="selProfile" class="col-md-2 control-label">Профиль:</label>
            <div class="col-md-10">
                <select class="form-control" id="selProfile" data-bind="options: $parents[2].attachmentProfiles, optionsText: 'name', enable: $parents[2].personAge() >= 15 && $parents[2].personAge() <= 17, value: attachmentProfile, optionsCaption: 'Выберите профиль...'"></select>
                
            </div>
        </div>
        <div class="form-group">
            <div class="col-lg-8">
                <div class="input-group">
                    <label for="selCareAtHome" class="form-control">Гарантируется обслуживание на дому:</label>
                    <span class="input-group-addon">
                        <input type="checkbox" id="selCareAtHome" data-bind="checked: careAtHome">
                    </span>
                </div>
                <!-- /input-group -->
            </div>
            <!-- /.col-lg-8 -->
        </div>
        <div class="form-group">
            <label for="selPhone" class="control-label col-md-2">Телефон:</label>
            <select class="form-control col-lg-9" id="selPhone" data-bind="visible: $parent.phones().length >
                0, options: $parent.phones, optionsText: 'PhoneNumberWithType', value: $parent.selectedPhone, optionsCaption: 'Выберите телефон...', valueAllowUnset: true">
            </select>
            <button type="button" class="btn btn-primary btn-sm col-lg-1" data-bind="click: $parents[2].btAddPhone">
                <span class="glyphicon glyphicon-plus"></span>
            </button>
        </div>

        <div class="form-group">
            <label class="col-md-5 control-label">Дата начала прикрепления:</label>
            <div class="col-md-7">

                <input type="text" data-bind="value: beginDateFormat" class="form-control" readonly="readonly" />
            </div>
        </div>
        <div class="form-group modal-body" data-bind="visible:app.flattach()!=undefined && app.flattach()!=null&& !app.flattach().isSelPersonIsAttachOfOrg()">
            <label for="countDocs" class="col-md-5 control-label">Прикрепленных документов: </label>
            <div class="col-md-7" data-bind="validationOptions: { insertMessages: false}">
                
                <div class="input-group">
                    <input id="countDocs" type="text" data-bind="value: countAttachFiles" class="form-control" readonly="readonly" />
                    <button type="button" class="btn btn-default input-group-addon" data-bind="click: clearFilesData">
                        <span class="glyphicon glyphicon-remove-circle"></span>
                    </button>
                </div>
                <div data-bind="validationMessage: countAttachFiles" class="field-validation-error"></div>
            </div>
        </div>
    </form>
</script>

        <script type="text/html" id="extsearch-template">
    <form role="form" class="form-horizontal">
        <div>
            <div class="form-group col-lg-6">
                <label for="inpLastName" class="col-lg-4 control-label">Фамилия:</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" id="inpLastName"
                           data-bind="value: lastName" />
                </div>
            </div>
            <div class="form-group col-lg-6">
                <label for="inpFirstName" class="col-lg-4 control-label">имя:</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" id="inpFirstName"
                           data-bind="value: firstName" />
                </div>
            </div>
        </div>
        <div>
            <div class="form-group col-lg-6">
                <label for="inpSecondName" class="col-lg-4 control-label">Отчество:</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" id="inpSecondName"
                           data-bind="value: secondName" />
                </div>
            </div>
            <div class="form-group col-lg-6">
                <label for="inpIin" class="col-lg-4 control-label">ИИН:</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" id="inpIin"
                           data-bind="value: iin" />
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-lg-3 control-label">Дата рождения:</label>
            <div class="col-lg-9">
                <div class="col-lg-6">
                    <label for="inpDtRojdSearch" class="col-lg-2 control-label">с:</label>
                    <div class="col-lg-10">
                        <input id="inpDtRojdSearch" data-provide="datepicker" type="text"
                               data-bind="datepicker: dtRojSearch, event: { change: DateChangeForSetNull }"
                               class="form-control" />
                    </div>
                </div>
                <div class="col-lg-6">
                    <label for="inpDtRojdSearchDo" class="col-lg-2 control-label">по:</label>
                    <div class="col-lg-10">
                        <input id="inpDtRojdSearchDo" data-provide="datepicker" type="text"
                               data-bind="datepicker: dtRojSearchDo, event: { change: DateChangeForSetNull }"
                               class="form-control" />
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="isBirthYearFilterFL" class="col-lg-5 control-label">по году рождения:</label>
            <div class="col-lg-2">
                <div class="checkbox">
                    <label>
                        <input id="isBirthYearFilterFL" type="checkbox" data-bind="checked: isBirthYear">
                    </label>
                </div>
            </div>
            <div class="col-lg-4" data-bind="if: isBirthYear">
                <input type="text" class="form-control" id="inpFioIInTerritoriesSearch"
                       data-bind="value: birthYear" />
            </div>
        </div>
        <div class="form-group">
            <label for="isBirthYearFilterFL" class="col-lg-5 control-label">Признак ввода::</label>
            <div class="col-lg-3">
                <div class="checkbox">
                    <label>
                        <input id="isBirthYearFilterFL" type="checkbox" data-bind="checked: isGbdfl">
                        из ГБДФЛ
                    </label>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="checkbox">
                    <label>
                        <input id="isBirthYearFilterFL" type="checkbox" data-bind="checked: isManual">
                        Вручную
                    </label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="inpSexSearch" class="col-lg-5 control-label">Пол:</label>
            <div class="col-lg-6">
                <select id="inpSexSearch" class="form-control"
                        data-bind="options: sexArray, optionsText: 'name', optionsValue: 'id', value: sexSearch, optionsCaption: 'Выберите пол...'"></select>
            </div>
        </div>
        <div class="form-group">
            <label for="inpStatusSearch" class="row col-sm-offset-3 control-label">Статус прикрепления:</label>
            <div class="row col-sm-offset-1">
                
                <!-- ko foreach: attachmentStatusesArray -->
                <label class="checkbox-inline">
                    <input id="inpStatusSearch" type="checkbox" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" />
                    <span data-bind="text: name"></span>
                </label>
                <!-- /ko -->
            </div>
        </div>
        <div class="form-group">
            <label for="inpTerritoriesSearch" class="col-lg-5 control-label">МО прикрепления:</label>
            <div class="col-lg-6">
                <select id="inpTerritoriesSearch" class="form-control"
                        data-bind="options: orgs, optionsText: 'name', value: MoSearch, optionsCaption: 'Пожалуйста выберите мед. организацию...'"></select>
                <div data-bind="visible: $parent.isloadOblOrgs()">Загрузка......</div>
            </div>
        </div>
        <div class="form-group">
            <label for="inpTerritoriesSearch" class="col-lg-5 control-label">Участок:</label>
            <div class="col-lg-6" data-bind="with: MoSearch">
                <select id="inpTerritoriesSearch" class="form-control"
                        data-bind="options: territories, optionsText: 'titleWithProfile', optionsValue: 'territoryID', value: $parent.territorySearch, optionsCaption: 'Выберите участок...'"></select>
                <div data-bind="visible: $parent.isLoadingTerritories()">Загрузка...</div>
            </div>
        </div>

        <div class="form-group">
            <label for="isNoattachFilterFl" class="col-lg-8 control-label">Жители, не имеющие прикрепления</label>
            <div class="col-lg-4">
                <div class="checkbox">
                    <label>
                        <input id="isNoattachFilterFl" type="checkbox" data-bind="checked: isNoAttach">
                    </label>
                </div>
            </div>
        </div>
        <div>
            <div class="form-group  col-lg-5">
                <label for="isDeathFilterFl" class="col-lg-8 control-label">Умершие:</label>
                <div class="col-lg-4">
                    <div class="checkbox">
                        <label>
                            <input id="isDeathFilterFl" type="checkbox" data-bind="checked: deathSearch">
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group col-lg-7">
                <label for="isNoAddressFilterFl" class="col-lg-8 control-label">Без адреса:</label>
                <div class="col-lg-4">
                    <div class="checkbox">
                        <label>
                            <input id="isNoAddressFilterFl" type="checkbox" data-bind="checked: isNoAddress">
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="inpAddressTerritoriesSearch" class="col-lg-4 control-label">Адрес</label>
            <div class="col-lg-8">
                <input type="text" class="form-control" id="inpAddressTerritoriesSearch"
                       data-bind="value: Address" />
            </div>
        </div>
        <div class="btn-group col-lg-offset-4">
            <a href="#" class="btn btn-primary btn-sm active" role="button"
               data-bind="click: searchEx, disable: ExtSearchIsEmpty, clickBubble: false">Поиск</a>
            <a href="#" class="btn btn-default btn-sm active" role="button"
               data-bind="click: clearExtSearch, clickBubble: false">Очистить критерии</a>
        </div>
    </form>
</script>
        <script type="text/html" id="search-address-template">
    <form class="form-horizontal" role="form">
        <ul class="text-danger" data-bind="foreach: errors">
            <li data-bind="text: $data"></li>
        </ul>
        <div data-bind="visible: IsRuningLoadProcess" class="progress-bar"
             role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
        </div>
        <div data-bind="visible: IsRuningLoadProcess">
            <span>Загрузка...</span>
        </div>
        <div class="form-group">
            <label for="addressType" class="col-md-2 control-label">Тип адреса:</label>
            <div class="col-md-10">
                <select id="addressType" class="form-control" required
                        data-bind="options: addressTypeList, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"></select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-12" data-bind="with: city">
                <div class="form-control" data-bind="text: title"></div>
            </div>
        </div>
        <div class="form-group">
            <label for="inpraion" class="col-md-2 control-label">Район:</label>
            <div class="col-md-10">
                <input list="lstraion" class="form-control" required id="inpraion"
                       data-bind="diabled: IsLoadingRaions, datalist: { options: allRaions, optionsText: 'name', value: selectedRaion }" />
                <span data-bind="visible: IsLoadingRaions">Загрузка...</span>
            </div>
        </div>
        <div class="form-group" data-bind="if: !isSelectedRaionIsCity()">
            <label for="inpvillage" class="col-md-2 control-label">Населенный пункт:</label>
            <div class="col-md-10" data-bind="with: selectedRaion">
                <input list="village" class="form-control" id="inpvillage"
                       data-bind="diabled: $parent.IsLoadingVillages, datalist: { options: childs, optionsText: 'name', value: $parent.selectedVillage }" />
                <span data-bind="visible: $parent.IsLoadingVillages">Загрузка...</span>
            </div>
        </div>
        <div class="form-group" data-bind="if: isSelectedRaionIsCity">
            <label for="inpstreet1" class="col-md-2 control-label">Улица:</label>
            <div class="col-md-10" data-bind="with: selectedRaion">
                <input list="lststreets" class="form-control" id="inpstreet1"
                       data-bind="diabled: $parent.IsLoadingStreets, datalist: { options: childs, optionsText: 'name', value: $parent.selectedStreet }, event: { keypress: $parent.onInputChangeStreet }" />
                <span data-bind="visible: $parent.IsLoadingStreets">Загрузка...</span>
            </div>
        </div>
        <div class="form-group" data-bind="if: !isSelectedRaionIsCity()">
            <label for="inpstreet2" class="col-md-2 control-label">Улица:</label>
            <div class="col-md-10" data-bind="with: selectedVillage">
                <input list="streets" class="form-control" id="inpstreet2"
                       data-bind="diabled: $parent.IsLoadingStreets, datalist: { options: childs, optionsText: 'name', value: $parent.selectedStreet }, event: { keypress: $parent.onInputChangeStreet2 }" />
                <span data-bind="visible: $parent.IsLoadingStreets">Загрузка...</span>
            </div>
        </div>
        <div class="form-group">
            <label for="inpbuilding" class="col-md-2 control-label">Дом:</label>
            <div class="col-md-10" data-bind="with: selectedStreet">
                <input list="building" class="form-control" id="inpbuilding"
                       data-bind="diabled: $parent.IsLoadingBuildings, datalist: { options: buildingsAllOfStreet, optionsText: 'buildingNumber', value: $parent.selectedBuilding }" />
                <span data-bind="visible: $parent.IsLoadingBuildings">Загрузка...</span>
            </div>
        </div>
        <div class="form-group" data-bind="if: selectedBuilding() && (selectedBuilding().isExistsAppartaments() == true || selectedBuilding().isExistsAppartaments() == undefined)">
            <label for="inpapartament" class="col-md-2 control-label">Квартира:</label>
            <div class="col-md-10" data-bind="with: selectedBuilding">
                <input list="building" class="form-control" id="inpapartament"
                       data-bind="diabled: $parent.IsLoadingApartaments, datalist: { options: apartaments, optionsText: 'number', value: $parent.selectedApartament }" />
                <span data-bind="visible: $parent.IsLoadingApartaments">Загрузка...</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label">Адрес:</label>
            <div class="col-md-10" data-bind="text: addressString"></div>
        </div>
    </form>
</script>
        <script type="text/html" id="person-address-templateForFL">
    <form class="form-horizontal" >
    
           
          
        <div class="row">
            <div class="col-lg-11">
                <table class="table table-bordered">
                    <tbody class="scroll" data-bind="foreach: $data.adress">
                        <tr data-bind="click: $parent.selectedAddressEd, css: { 'active': $parent.selectedAddressEd() === $data }">
                            <td>
                                <b data-bind="text: addressString"></b>
                            </td>
                            <td>
                                <span class="glyphicon glyphicon-ok" data-bind="visible: isMain==1"></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-lg-1" style="padding: 5px">
                <div class="btn-group-vertical">
                    <button type="button" class="btn btn-primary navbar-btn" data-bind=" click:$data.AddAdres"
                            data-toggle="modal" data-target="#addPAddressModalDialog" data-placement="top"
                            title="Добавить адрес пациента">
                        <i class="glyphicon glyphicon-plus"></i>
                    </button>
                    
                    <button type="button" class="btn btn-danger navbar-btn"
                            data-bind="click:btnDelteClick"
                            
                            title="Закрыть адрес пациента">
                        <i class="glyphicon glyphicon-minus"></i>
                    </button>
                        </div>
                    </div>
                </div>
  
      
     
</form>
</script>
        <script type="text/html" id="add-paddress-templateForFl">
    <form class="form-horizontal">
        <div class="row">
            <ul class="text-danger" data-bind="foreach: errors">
                <li class="alert" data-bind="text: $data"></li>
            </ul>
        </div>
        <div class="form-group">
            <label for="inpAdr" class="col-lg-2 control-label">Адрес</label>
            <div class="col-lg-10">
                <div class="col-lg-10" data-bind="text: addressString"></div>
                <button type="button" class="btn btn-primary col-lg-2" id="inpAdr" data-bind="disable: isClosed, click:$parent.showSerchtextAdress"
                         data-placement="top">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label">Тип адреса:</label>
            <div class="col-md-8">
                
                <select id="addressType" class="form-control" required
                    data-bind="options: $parent.addressTypeList, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"></select>
            </div>
        </div>
        <div class="form-group">
            <label for="adressDtBegin" class="control-label col-lg-4">Дата началa:</label>
            <div class="col-lg-8">
                <input class="form-control" data-provide="datepicker" id="adressDtBegin" type="text"
                       data-bind="datepicker: beginDate, event: { change: $parent.DateChangeForSetNull},disable: true">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-lg-4" for="adressDtEnd">Дата окончания:</label>
            <div class="col-lg-8">
                <input class="form-control" data-provide="datepicker" id="adressDtEnd" readonly="readonly" type="text"
                       data-bind="datepicker: endDate, event: { change: $parent.DateChangeForSetNull},disable: isClosed">
            </div>
        </div>
        <div class="form-group">
            <label for="isNoattachFilterFl" class="col-lg-4 control-label">Основной:</label>
            <div class="col-lg-8">
                <div class="checkbox">
                    <label>
                        <input id="isNoattachFilterFl" type="checkbox" data-bind="checked: isMain, disable: isClosed">
                    </label>
                </div>
            </div>
        </div>
    </form>
</script>
        <script id="search-adress-from-string-templateFL" type="text/html">
    <form class="form-horizontal" role="form">
        
        <div class="form-group">
            <label for="fioiin" class="col-md-2 col-lg-2 col-sm-2 control-label">Адрес:</label>
            <input type="text" id="fioiin" class="col-md-9 col-lg-9 col-sm-9 form-control" data-bind="value: searchTextAddress, hasFocus: true" />
            <div class="col-md-1 col-lg-1 col-sm-1">
                <button type="submit" class="btn btn-primary btn-sm" data-bind="click: btSearchAddress">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </div>
        </div>
        
        <table class="table table-bordered">
            <tbody class="scroll" data-bind="foreach : resultAddresess">
                <tr data-bind="click: $parents[1].selectedAddress, css: { 'active': $parents[1].selectedAddress()===$data }">
                    <td class="col-md-6" data-bind="text: addressStringRU"></td>
                </tr>
            </tbody>
        </table>
    </form>
</script>
     
        <!-- ko with: home --><!-- /ko -->

        <script>
            var baseUrl = "/services";
            var urlEtd = "http://reports.eisz.kz/";
            var urlEta = "https://www.eisz.kz";
            var EtaClientId = "6230fe638a8f44c790669340435d9841";
        </script>
        
        <!-- ko with: flattach -->

<div class="row">
    <ul class="text-danger" data-bind="foreach: errors"></ul>
</div>
<div class="row">
    <form class="form-horizontal" role="form">
        <div class="form-group">
            <label for="fioiin" class="col-md-2 col-lg-2 col-sm-2 control-label">ФИО/ИИН</label>

            <input id="fioiin" class="col-md-7 col-lg-7 col-sm-7 form-control" data-bind="value: fioiin, hasFocus: true" type="text">

            <div class="btn-group col-md-3 col-lg-3 col-sm-3">
                <button id="btSearchFiz" type="submit" class="btn btn-primary btn-sm" data-bind="click: search">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
                <button type="button" class="btn btn-default btn-sm" data-bind="click: toggleExtSearch">
                    <span class="glyphicon glyphicon-user"></span>
                    <span class="caret"></span>
                </button>
                <div id="panelExtSearchPerson" class="dropdown-menu hide" role="menu" aria-labelledby="searchFizExtPanel" data-bind="template: { name: 'extsearch-template', data: $data }" style="width: 600px;">
    <form role="form" class="form-horizontal">
        <div>
            <div class="form-group col-lg-6">
                <label for="inpLastName" class="col-lg-4 control-label">Фамилия:</label>
                <div class="col-lg-8">
                    <input class="form-control" id="inpLastName" data-bind="value: lastName" type="text">
                </div>
            </div>
            <div class="form-group col-lg-6">
                <label for="inpFirstName" class="col-lg-4 control-label">имя:</label>
                <div class="col-lg-8">
                    <input class="form-control" id="inpFirstName" data-bind="value: firstName" type="text">
                </div>
            </div>
        </div>
        <div>
            <div class="form-group col-lg-6">
                <label for="inpSecondName" class="col-lg-4 control-label">Отчество:</label>
                <div class="col-lg-8">
                    <input class="form-control" id="inpSecondName" data-bind="value: secondName" type="text">
                </div>
            </div>
            <div class="form-group col-lg-6">
                <label for="inpIin" class="col-lg-4 control-label">ИИН:</label>
                <div class="col-lg-8">
                    <input class="form-control" id="inpIin" data-bind="value: iin" type="text">
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-lg-3 control-label">Дата рождения:</label>
            <div class="col-lg-9">
                <div class="col-lg-6">
                    <label for="inpDtRojdSearch" class="col-lg-2 control-label">с:</label>
                    <div class="col-lg-10">
                        <input id="inpDtRojdSearch" data-provide="datepicker" data-bind="datepicker: dtRojSearch, event: { change: DateChangeForSetNull }" class="form-control" type="text">
                    </div>
                </div>
                <div class="col-lg-6">
                    <label for="inpDtRojdSearchDo" class="col-lg-2 control-label">по:</label>
                    <div class="col-lg-10">
                        <input id="inpDtRojdSearchDo" data-provide="datepicker" data-bind="datepicker: dtRojSearchDo, event: { change: DateChangeForSetNull }" class="form-control" type="text">
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="isBirthYearFilterFL" class="col-lg-5 control-label">по году рождения:</label>
            <div class="col-lg-2">
                <div class="checkbox">
                    <label>
                        <input id="isBirthYearFilterFL" data-bind="checked: isBirthYear" type="checkbox">
                    </label>
                </div>
            </div>
            <div class="col-lg-4" data-bind="if: isBirthYear"></div>
        </div>
        <div class="form-group">
            <label for="isBirthYearFilterFL" class="col-lg-5 control-label">Признак ввода::</label>
            <div class="col-lg-3">
                <div class="checkbox">
                    <label>
                        <input id="isBirthYearFilterFL" data-bind="checked: isGbdfl" type="checkbox">
                        из ГБДФЛ
                    </label>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="checkbox">
                    <label>
                        <input id="isBirthYearFilterFL" data-bind="checked: isManual" type="checkbox">
                        Вручную
                    </label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="inpSexSearch" class="col-lg-5 control-label">Пол:</label>
            <div class="col-lg-6">
                <select id="inpSexSearch" class="form-control" data-bind="options: sexArray, optionsText: 'name', optionsValue: 'id', value: sexSearch, optionsCaption: 'Выберите пол...'"><option value="">Выберите пол...</option><option value="2">Женский</option><option value="3">Мужской</option><option value="4">Не определен</option><option value="5">Не известен</option></select>
            </div>
        </div>
        <div class="form-group">
            <label for="inpStatusSearch" class="row col-sm-offset-3 control-label">Статус прикрепления:</label>
            <div class="row col-sm-offset-1">
                
                <!-- ko foreach: attachmentStatusesArray -->
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">запрос на прикрепление</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">прикреплен</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">запрос на открепление:отказ</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">запрос на открепление:выезд</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">запрос на открепление:смерть</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">откреплен:смерть</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">откреплен:выезд</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">откреплен:отказ</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">отказано</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">отозван</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">откреплен:закрытие участка</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">внутренняя заявка на переприкрепление</span>
                </label>
                
                <label class="checkbox-inline">
                    <input value="[object Object]" id="inpStatusSearch" data-bind="checkedValue: $data, checked: $parent.statusesAttachSearch" type="checkbox">
                    <span data-bind="text: name">Откреплен ошибочно</span>
                </label>
                <!-- /ko -->
            </div>
        </div>
        <div class="form-group">
            <label for="inpTerritoriesSearch" class="col-lg-5 control-label">МО прикрепления:</label>
            <div class="col-lg-6">
                <select id="inpTerritoriesSearch" class="form-control" data-bind="options: orgs, optionsText: 'name', value: MoSearch, optionsCaption: 'Пожалуйста выберите мед. организацию...'"><option value="">Пожалуйста выберите мед. организацию...</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №1" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №2" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №3" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №4" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №5" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №6" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №8" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №9" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №10" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №11" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №12" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №13" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №14" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №15" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №16" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №17" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №18" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №19" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №20" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №21" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Центр первичной медико-санитарной помощи "Кулагер" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №25" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №30" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №31" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №32" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №33" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №34" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская студенческая поликлиника" Управления здравоохранения города Алматы</option><option value="">Филиал акционерного общества "Железнодорожные госпитали медицины катастроф"- Алматинская железнодорожная больница"</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника Ветеранов Отечественной войны" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская больница "Алатау" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие "Городская клиническая больница №5" на праве хозяйственного ведения Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №22" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №24" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №23" Управления здравоохранения города Алматы</option><option value="">Республиканское государственное предприятие на праве хозяйственного ведения "Казахский национальный медицинский университет им. С.Д. Асфендиярова" Министерства здравоохранения и социального развития Республики Казахстан</option><option value="">Товарищество с ограниченной ответственностью "Республиканский семейно- врачебный центр"</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №26" Управления здравоохранения города Алматы</option><option value="">Государственное коммунальное предприятие на праве хозяйственного ведения "Городская поликлиника №27" Управления здравоохранения города Алматы</option><option value="">Филиал Товарищества с ограниченной ответственностью "Open clinic" города Алматы</option><option value="">Товарищество с ограниченной ответственностью "Центр медицинской помощи"</option><option value="">Товарищество с ограниченной ответственностью "Медицинский центр "MedLine"</option><option value="">Товарищество с ограниченной ответственностью "HealthGuard"</option><option value="">Товарищество с ограниченной ответственностью "Достар Мед А"</option></select>
                <div style="display: none;" data-bind="visible: $parent.isloadOblOrgs()">Загрузка......</div>
            </div>
        </div>
        <div class="form-group">
            <label for="inpTerritoriesSearch" class="col-lg-5 control-label">Участок:</label>
            <div class="col-lg-6" data-bind="with: MoSearch"></div>
        </div>

        <div class="form-group">
            <label for="isNoattachFilterFl" class="col-lg-8 control-label">Жители, не имеющие прикрепления</label>
            <div class="col-lg-4">
                <div class="checkbox">
                    <label>
                        <input id="isNoattachFilterFl" data-bind="checked: isNoAttach" type="checkbox">
                    </label>
                </div>
            </div>
        </div>
        <div>
            <div class="form-group  col-lg-5">
                <label for="isDeathFilterFl" class="col-lg-8 control-label">Умершие:</label>
                <div class="col-lg-4">
                    <div class="checkbox">
                        <label>
                            <input id="isDeathFilterFl" data-bind="checked: deathSearch" type="checkbox">
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group col-lg-7">
                <label for="isNoAddressFilterFl" class="col-lg-8 control-label">Без адреса:</label>
                <div class="col-lg-4">
                    <div class="checkbox">
                        <label>
                            <input id="isNoAddressFilterFl" data-bind="checked: isNoAddress" type="checkbox">
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="inpAddressTerritoriesSearch" class="col-lg-4 control-label">Адрес</label>
            <div class="col-lg-8">
                <input class="form-control" id="inpAddressTerritoriesSearch" data-bind="value: Address" type="text">
            </div>
        </div>
        <div class="btn-group col-lg-offset-4">
            <a href="#" class="btn btn-primary btn-sm active" role="button" data-bind="click: searchEx, disable: ExtSearchIsEmpty, clickBubble: false">Поиск</a>
            <a href="#" class="btn btn-default btn-sm active" role="button" data-bind="click: clearExtSearch, clickBubble: false">Очистить критерии</a>
        </div>
    </form>
</div>
                <button disabled="" id="btAddFiz" type="button" class="btn btn-primary btn-sm" data-bind="click: btAddPerson, enable: isAddPerson, clickBubble: false">
                    <span class="glyphicon glyphicon-plus"></span>
                </button>
            </div>
        </div>
    </form>

</div>
<div class="row">
    <div class="panel panel-info">
        <div class="panel-heading">
            <h3 class="panel-title" data-bind="text: 'Результаты поиска (найдено : ' + countPersons() + ' Страница ' + pageNo() + ')'">Результаты поиска (найдено : 172 Страница 2)</h3>
        </div>
        
        <span style="display: none;" data-bind="visible: isLoading">Загрузка...</span>
        <table style="" class="table table-bordered" data-bind="visible: resultSearch().length > 0">
            <tbody class="scroll" data-bind="foreach: resultSearch">
                <tr class="" data-bind="click: $parent.selectPerson, css: { 'active': $parent.selectedPerson() === $data } ">
                    <td>
                        <img title="Женский" src="https://rpn.eisz.kz//Images/female.png" data-bind="attr: { src: seximage, title: formatSex }" style="height: 20px;">
                    </td>
                    <td class="col-md-5"><b>ФИО:</b><span class="control-label" data-bind="text: formatFio">ИСМАГУЛОВА ЖАНАР ЕЛЕМЕСОВНА</span></td>
                    <td class="col-md-3"><b>ИИН:</b><span class="control-label" data-bind="text: iin">830725400398</span></td>
                    <td class="col-md-3"><b>Дата рождения:</b><span class="control-label" data-bind="text: formatBirthDate">25.07.1983</span></td>
                    <td class="col-md-1"><b data-bind="text: formatHGBD">ГБДФЛ</b></td>
                </tr>
            
                <tr class="" data-bind="click: $parent.selectPerson, css: { 'active': $parent.selectedPerson() === $data } ">
                    <td>
                        <img title="Женский" src="https://rpn.eisz.kz//Images/female.png" data-bind="attr: { src: seximage, title: formatSex }" style="height: 20px;">
                    </td>
                    <td class="col-md-5"><b>ФИО:</b><span class="control-label" data-bind="text: formatFio">ИСМАГУЛОВА ЖАНАР ЕЛЕУСИНОВНА</span></td>
                    <td class="col-md-3"><b>ИИН:</b><span class="control-label" data-bind="text: iin">850923400675</span></td>
                    <td class="col-md-3"><b>Дата рождения:</b><span class="control-label" data-bind="text: formatBirthDate">23.09.1985</span></td>
                    <td class="col-md-1"><b data-bind="text: formatHGBD">ГБДФЛ</b></td>
                </tr>
            
                <tr class="" data-bind="click: $parent.selectPerson, css: { 'active': $parent.selectedPerson() === $data } ">
                    <td>
                        <img title="Женский" src="https://rpn.eisz.kz//Images/female.png" data-bind="attr: { src: seximage, title: formatSex }" style="height: 20px;">
                    </td>
                    <td class="col-md-5"><b>ФИО:</b><span class="control-label" data-bind="text: formatFio">ИСМАГУЛОВА ЖАНАР ЕРГАЛИЕВНА</span></td>
                    <td class="col-md-3"><b>ИИН:</b><span class="control-label" data-bind="text: iin">691211400711</span></td>
                    <td class="col-md-3"><b>Дата рождения:</b><span class="control-label" data-bind="text: formatBirthDate">11.12.1969</span></td>
                    <td class="col-md-1"><b data-bind="text: formatHGBD">ГБДФЛ</b></td>
                </tr>
            
                <tr class="active" data-bind="click: $parent.selectPerson, css: { 'active': $parent.selectedPerson() === $data } ">
                    <td>
                        <img title="Женский" src="https://rpn.eisz.kz//Images/female.png" data-bind="attr: { src: seximage, title: formatSex }" style="height: 20px;">
                    </td>
                    <td class="col-md-5"><b>ФИО:</b><span class="control-label" data-bind="text: formatFio">ИСМАГУЛОВА ЖАНАР ЕРИКОВНА</span></td>
                    <td class="col-md-3"><b>ИИН:</b><span class="control-label" data-bind="text: iin">701118401675</span></td>
                    <td class="col-md-3"><b>Дата рождения:</b><span class="control-label" data-bind="text: formatBirthDate">18.11.1970</span></td>
                    <td class="col-md-1"><b data-bind="text: formatHGBD">ГБДФЛ</b></td>
                </tr>
            
                <tr class="" data-bind="click: $parent.selectPerson, css: { 'active': $parent.selectedPerson() === $data } ">
                    <td>
                        <img title="Женский" src="https://rpn.eisz.kz//Images/female.png" data-bind="attr: { src: seximage, title: formatSex }" style="height: 20px;">
                    </td>
                    <td class="col-md-5"><b>ФИО:</b><span class="control-label" data-bind="text: formatFio">ИСМАГУЛОВА ЖАНАР ЕРМУРАТОВНА</span></td>
                    <td class="col-md-3"><b>ИИН:</b><span class="control-label" data-bind="text: iin">861130402497</span></td>
                    <td class="col-md-3"><b>Дата рождения:</b><span class="control-label" data-bind="text: formatBirthDate">30.11.1986</span></td>
                    <td class="col-md-1"><b data-bind="text: formatHGBD">ГБДФЛ</b></td>
                </tr>
            </tbody>
        </table>
        
        <ul class="pager col-md-offset-4">
            <li class="" data-bind="css: { 'disabled': pageNo() < 2 }">
                <a href="#" data-bind="click: prevPage">
                    <i class="glyphicon glyphicon-backward" data-toggle="tooltip" data-placement="top" title="Предыдущая"></i>
                </a>
            </li>
            <li>
                Страница<input max="35" data-bind="value: pageNo, attr: { max: countPages }" size="2" min="1" type="number">
                из
                <b data-bind="text: countPages">35</b>
            </li>
            <li class="" data-bind="css: { 'disabled': pageNo() >= countPages() }">
                <a href="#" data-bind="click: nextPage">
                    <i class="glyphicon glyphicon-forward" data-toggle="tooltip" data-placement="top" title="Следующая"></i>
                </a>
            </li>
        </ul>
    </div>
</div>
<div class="row">
    
    <div class="col-lg-10">
        <ul class="nav nav-tabs">
            
            <li class="active" data-bind="css: { active: viewMode() === 1 }"><a href="#" data-bind="click: showDetail">Анкетные данные и МО прикрепления</a></li>
            <li class="" data-bind="css: { active: viewMode() === 2 }"><a href="#" data-bind="click: showAttachments">Сведения о прикреплении</a></li>
            <li class="" data-bind="css: { active: viewMode() === 3 }"><a href="#" data-bind="click: showAddresses">Адреса</a></li>
            
        </ul>
    </div>
    <div class="col-lg-2">
        <ul class="nav navbar-nav navbar-right">
            
            <li style="display: none;" data-bind="visible: isSelPersonIsAttachOfOrg">
                <button type="button" class="btn btn-default navbar-btn" data-bind="click: navigateToEditPerson" data-toggle="tooltip" data-placement="top" title="Демографическая информация">
                    <i class="glyphicon glyphicon-user" data-bind="css: {'glyphicon-user': !app.isAddPerson(),'glyphicon-pencil': app.isAddPerson()}"></i>
                </button>
            </li>
            <li style="display: none;" data-bind="visible: false"> 
                <button type="button" class="btn btn-danger navbar-btn" data-bind="click: setDeadCertificatePerson" data-toggle="tooltip" data-placement="top" title="Добавить сведения о смерти">
                    <span class="glyphicon glyphicon-remove"></span>
                    
                </button>
            </li>
        </ul>
    </div>
    
</div>
<div class="row" data-bind="visible: viewMode() === 1">
    <div class="panel panel-info" data-bind="with: selectedPerson">
        <div class="panel-heading">
            <h3 class="panel-title" data-bind="text: formatFio">ИСМАГУЛОВА ЖАНАР ЕРИКОВНА</h3>
        </div>
        <table class="table table-bordered">
            <tbody><tr>
                <td class="col-md-4">
                    <div>
                        ИИН:
                        <label class="control-label" data-bind="text: iin">701118401675</label>
                    </div>
                    <div>
                        Дата рождения:
                        <label class="control-label" data-bind="text: formatBirthDate">18.11.1970</label>
                    </div>
                    <div>
                        Пол:
                        <label class="control-label" data-bind="text: formatSex">Женский</label>
                    </div>
                    <div>
                        Национальность
                        <label class="control-label" data-bind="text: formatNational">Казахи</label>
                    </div>
                    <div>
                        Гражданство:
                        <label class="control-label" data-bind="text: formatCitizen">Казахстан</label>
                    </div>
                </td>
                <td class="col-md-8">

                    
                    <div data-bind="ifnot: isDeath">
                        <div style="display: none;" data-bind="with: activeAttachment, visible: $parent.isSelPersonIsAttachOfOrg() || app.isAdmin() || app.isRegionAdmin()"></div>
                        <div data-bind="with: activeAttachment, visible: !$parent.isSelPersonIsAttachOfOrg() &amp;&amp; !(app.isAdmin() || app.isRegionAdmin())"></div>
                    </div>
                    <div data-bind="ifnot: activeAttachment">
                        <div data-bind="ifnot: isDeath">
                            <h4>Физ. лицо нигде не прикреплено</h4>
                        </div>
                    </div>
                    <div data-bind="if: isDeath" style="color: red"></div>
                </td>
            </tr>
        </tbody></table>
    </div>
</div>
<div style="display: none;" class="row" data-bind="visible: viewMode() === 2">
    <div class="panel panel-info" data-bind="with: selectedPerson">
        <div class="panel-heading">
            <h3 class="panel-title" data-bind="text: 'Сведения о прикреплении (' + formatFio() + ')' ">Сведения о прикреплении (ИСМАГУЛОВА ЖАНАР ЕРИКОВНА)</h3>
        </div>
        
        


        <div class="btn-group">
            
            <button type="button" class="btn btn-primary" data-bind="visible: !$parent.isSelPersonIsAttachOfOrg() &amp;&amp; !isDeath() &amp;&amp; hGBD() != null, click: $parent.showAddRequestAttachment" data-toggle="tooltip" data-placement="top" title="Запрос на прикрепление">
                <i class="glyphicon glyphicon-plus-sign"></i>
            </button>
            <button style="display: none;" type="button" class="btn btn-primary" data-bind="visible: $parent.isSelPersonIsAttachOfOrg, click: $parent.showAddRequestInnerAttachment" data-toggle="tooltip" data-placement="top" title="Внутренняя заявка на переприкрепление">
                <i class="glyphicon glyphicon-plus-sign"></i>
            </button>
            <button style="display: none;" type="button" class="btn btn-danger" data-bind="visible: $parent.isSelPersonIsAttachOfOrg, click: $parent.showRequestDeattachment" data-toggle="tooltip" data-placement="top" title="Запрос на открепление">
                <i class="glyphicon glyphicon-minus-sign"></i>
            </button>
        </div>
        <table style="display: none;" class="table table-striped table-bordered" data-bind="visible: attachments().length > 0">
            
            <tbody class="scroll2" data-bind="foreach: attachments"></tbody>
        </table>
    </div>
</div>
<div style="display: none;" class="row" data-bind="visible: viewMode() === 3">
    <div class="panel panel-info col-lg-6" data-bind="with: selectedPerson">
        <div class="panel-heading">
            <h3 class="panel-title" data-bind="text: 'Адреса из ГБДФЛ (' + formatFio() + ')'">Адреса из ГБДФЛ (ИСМАГУЛОВА ЖАНАР ЕРИКОВНА)</h3>
        </div>
        <div data-bind="visible: !isAddressesLoaded()">Загрузка...</div>
        <table style="display: none;" class="table-striped table-bordered" data-bind="visible: gbdfladdresses().length > 0">
            <tbody class="scroll2" data-bind="foreach: gbdfladdresses"></tbody>
        </table>
    </div>
    <div class="panel panel-info col-lg-6" data-bind="with: selectedPerson">
        <div class="panel-heading">
            <h3 class="panel-title" data-bind="text: 'Адреса (' + formatFio() + ')'">Адреса (ИСМАГУЛОВА ЖАНАР ЕРИКОВНА)</h3>
        </div>
        <div data-bind="visible: !isAddressesLoaded()">Загрузка...</div>
        <button style="display: none;" type="button" class="btn btn-default" data-bind="click:$parent.adressForEdit.refreshAdress.bind($parent.selectedPerson()), visible:$parent.EditAdressIsEnable()">
            <span> Редактировать адресса</span>

        </button>
        
        <table style="display: none;" class="table-striped table-bordered" data-bind="visible: unfilteredAddresses().length > 0">
            <tbody class="scroll2" data-bind="foreach: unfilteredAddresses"></tbody>
        </table>
</div>
</div>
<div style="display: none;" class="row" data-bind="visible: viewMode() === 4">
    <div class="panel panel-info" data-bind="with: selectedPerson">
        <div class="panel-heading">
            <h3 class="panel-title" data-bind="text: 'Лист заключительных диагнозов (' + formatFio() + ')'">Лист заключительных диагнозов (ИСМАГУЛОВА ЖАНАР ЕРИКОВНА)</h3>
        </div>
        <div style="display: none;" class="btn-group" data-bind="visible: app.userIsRole('diagnoses')">
            <button type="button" class="btn btn-primary" data-bind="click: $parent.showAddDiag" data-toggle="tooltip" data-placement="top" title="Добавить Диагноз">
                <i class="glyphicon glyphicon-plus"></i>
            </button>
            <button disabled="" type="button" class="btn btn-primary" data-bind="enable: selectedDiag, click: $parent.showEditDiag" data-toggle="tooltip" data-placement="top" title="Редактировать Диагноз">
                <i class="glyphicon glyphicon-pencil"></i>
            </button>
            <button disabled="" type="button" class="btn btn-danger" data-bind="enable: selectedDiag, click: $parent.showDeleteDiag" data-toggle="tooltip" data-placement="top" title="Удалить Диагноз">
                <i class="glyphicon glyphicon-remove"></i>
            </button>
            
        </div>
        <table style="display: none;" class="table table-bordered" data-bind="visible: diagsList().length > 0">
            <tbody class="scroll" data-bind="foreach: diagsList"></tbody>
            </table>
        </div>
    </div>
    <div style="display: none;" class="row" data-bind="visible: viewMode() === 5">
        <div data-bind="foreach:TargetAccounting"></div>
    </div>
    <!--Dialogs-->
    <div class="modal fade" id="searchDoctorRegDiagModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" data-bind="with: selectedPerson">
            <div class="modal-content" data-bind="with: selectedDiag"></div>
        </div>
    </div>
    <div class="modal fade" id="DiagRegistModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" data-bind="with: selectedPerson">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                    <h4 class="modal-title" id="myModalLabel">Регистрация заключительного диагноза</h4>
                </div>
                <div class="modal-body" data-bind="with: selectedDiag"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-bind="click: $parent.btDiagCancelClick">Закрыть</button>
                    <button type="button" class="btn btn-primary" data-bind="click: $parent.btDiagSubmitClick">Принять</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="DeathModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                    <h4 class="modal-title" id="myModalLabel">Добавить сведения о смерти</h4>
                </div>
                <div class="modal-body" data-bind="template: { name: 'deats-cert-template', data: certificateDeathView }">
            <form class="form-horizontal" role="form">
                <ul class="text-danger" data-bind="foreach: errors"></ul>
                <div class="text-center">
                    <h4><strong data-bind="text: personFio"></strong></h4>
                </div>
                
                <div class="form-group">
                    <label for="causeDeadMKB" class="col-md-6 control-label">Причина смерти: (Код МКБ):</label>
                    <div class="col-md-6">
                        <input id="causeDeadMKB" class="form-control" required="" data-bind="value: causeDeadMKB, valueUpdate: 'afterkeydown', event:{keypress: keypressCauseDeadCode}" type="text">
                        <span style="display: none;" data-bind="visible: isSearchMkb">Загрузка...</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="causeDeadName" class="col-md-6 control-label">Причина смерти:  (Заболевание):</label>
                    <div class="col-md-6" id="divCauseName">
                        <input class="form-control" id="causeDeadName" data-bind="value: causeDeadName, valueUpdate: 'afterkeydown', event:{keypress: keypressCauseDeadName}">
                        <span style="display: none;" data-bind="visible: isSearchCauseName">Загрузка...</span>
                    </div>
                </div>
                <div style="display: none;" class="scroll" data-bind="visible: visibleListNames">
                    <div id="listCauseDeathNames" class="list-group" data-bind="foreach: causeDeadArray"></div>
                </div>
                <div class="form-group">
                    <label for="deathDate" class="col-md-6 control-label">Дата смерти:</label>
                    <div class="col-md-6">
                        <input class="form-control" data-provide="datepicker" id="deathDate" required="" data-bind="datepicker: deathDate, event: { change: DateChangeForSetNull}">
                    </div>
                </div>
                <div class="form-group">
                    <label for="locationCache" class="col-md-6 control-label">Место смерти:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="locationCache" required="" data-bind="options: locationsArray, optionsText: 'name',  value: locationCache, optionsCaption: 'Выберите место смерти...'"><option value="">Выберите место смерти...</option><option value="">Не указано</option><option value="">В стационаре</option><option value="">На дому</option><option value="">В другом месте</option><option value="">В доме ребенка</option><option value="">В родильном доме</option></select><span style="display: none;" class="validationMessage"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="deathRegNum" class="col-md-6 control-label">№ свид. о смерти:</label>
                    <div class="col-md-6">
                        <input id="deathRegNum" class="form-control" data-bind="value: deathRegNum" type="text">
                    </div>
                </div>
                <div class="form-group">
                    <label for="deathRegDate" class="col-md-6 control-label">Дата выдачи свид. о смерти:</label>
                    <div class="col-md-6">
                        <input class="form-control" data-provide="datepicker" id="deathRegDate" data-bind="datepicker: deathRegDate, event: { change: DateChangeForSetNull}">
                    </div>
                </div>
            </form>
        </div>
                <div class="modal-footer" data-bind="with: certificateDeathView">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                    <button type="button" class="btn btn-primary" data-bind="click: btSubmitClick">Принять</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="addRequestAttachModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" data-bind="with: selectedPerson">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                    <h4 class="modal-title" id="myModalLabel" data-bind="text: !$parent.isSelPersonIsAttachOfOrg()? 'Запрос на прикрепление ( ' + formatFio() + ')': 'Внутренняя заявка на переприкрепление ( ' + formatFio() + ')'">Запрос на прикрепление ( ИСМАГУЛОВА ЖАНАР ЕРИКОВНА)</h4>
                </div>

                <div class="modal-body" data-bind="template: { name: 'createAttachmentReqestTemplate', data: $data }">
    <form class="form-horizontal" role="form" data-bind="with: newRequestAttachment"></form>
</div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                    <button type="button" class="btn btn-default" data-bind="click:$parent.showFileDialog, visible:!$parent.isSelPersonIsAttachOfOrg()">Прикрепить заявление</button>
                    <button type="button" class="btn btn-primary" data-bind="click: $parent.btSubmitAddAttachRequest">Сохранить</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    <div class="modal fade" id="addRequestDeattachModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" data-bind="with: selectedPerson">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                    <h4 class="modal-title" id="myModalLabel" data-bind="text: 'Запрос на открепление ( ' + formatFio() + ')'">Запрос на открепление ( ИСМАГУЛОВА ЖАНАР ЕРИКОВНА)</h4>
                </div>

                <div class="modal-body">
                    <form class="form-horizontal" role="form" data-bind="with: newRequestAttachment"></form>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                    <button type="button" class="btn btn-default" data-bind="click: $parent.showFileDialogForDeattach">Прикрепить заявление</button>
                    <button type="button" class="btn btn-primary" data-bind="click: $parent.btSubmitDeattachRequest">Сохранить</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    <div class="modal fade" id="addAddressPersonModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" data-bind="with: selectedPerson">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                    <h4 class="modal-title" id="myModalLabel" data-bind="text: 'Добавить адрес ( ' + formatFio() + ' )'">Добавить адрес ( ИСМАГУЛОВА ЖАНАР ЕРИКОВНА )</h4>
                </div>
                <div class="modal-body" data-bind="template: { name: 'search-address-template', data: newAdressPerson }">
    <form class="form-horizontal" role="form">
        <ul class="text-danger" data-bind="foreach: errors"></ul>
        <div data-bind="visible: IsRuningLoadProcess" class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 45%; display: none;">
        </div>
        <div style="display: none;" data-bind="visible: IsRuningLoadProcess">
            <span>Загрузка...</span>
        </div>
        <div class="form-group">
            <label for="addressType" class="col-md-2 control-label">Тип адреса:</label>
            <div class="col-md-10">
                <select id="addressType" class="form-control" required="" data-bind="options: addressTypeList, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"><option value="">Выберите тип адреса...</option><option value="">Фактическое место жительства</option><option value="">Регистрация по месту жительства (прописка)</option><option value="">Регистрация по месту временного пребывания</option><option value="">Место рождения</option></select><span style="display: none;" class="validationMessage"></span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-12" data-bind="with: city">
                <div class="form-control" data-bind="text: title">ГОРОД РЕСП.ЗНАЧ. : АЛМАТЫ</div>
            </div>
        </div>
        <div class="form-group">
            <label for="inpraion" class="col-md-2 control-label">Район:</label>
            <div class="col-md-10">
                <input list="lstraion" class="form-control" required="" id="inpraion" data-bind="diabled: IsLoadingRaions, datalist: { options: allRaions, optionsText: 'name', value: selectedRaion }">
                <span style="display: none;" data-bind="visible: IsLoadingRaions">Загрузка...</span>
            </div>
        </div>
        <div class="form-group" data-bind="if: !isSelectedRaionIsCity()">
            <label for="inpvillage" class="col-md-2 control-label">Населенный пункт:</label>
            <div class="col-md-10" data-bind="with: selectedRaion"></div>
        </div>
        <div class="form-group" data-bind="if: isSelectedRaionIsCity"></div>
        <div class="form-group" data-bind="if: !isSelectedRaionIsCity()">
            <label for="inpstreet2" class="col-md-2 control-label">Улица:</label>
            <div class="col-md-10" data-bind="with: selectedVillage"></div>
        </div>
        <div class="form-group">
            <label for="inpbuilding" class="col-md-2 control-label">Дом:</label>
            <div class="col-md-10" data-bind="with: selectedStreet"></div>
        </div>
        <div class="form-group" data-bind="if: selectedBuilding() &amp;&amp; (selectedBuilding().isExistsAppartaments() == true || selectedBuilding().isExistsAppartaments() == undefined)"></div>
        <div class="form-group">
            <label class="col-md-2 control-label">Адрес:</label>
            <div class="col-md-10" data-bind="text: addressString"></div>
        </div>
    </form>
</div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-bind="click: btCancelAddAdressPerson">Закрыть</button>
                    <button disabled="" type="button" class="btn btn-primary" data-bind="click: btSubmitAddAdressPerson, enable: newAdressPerson().isComplete">Выбрать</button>
                </div>
            </div>
        </div>
    </div>
<div id="searchMkbModalSickGeneral" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-bind="with: selectedPerson">
    <div class="modal-dialog" data-bind="with: selectedDiag"></div>
</div>

<!--Добавление телефона-->
<div class="modal fade" id="personAddPhoneModalDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" data-bind="with: selectedPerson">
            <form class="form-horizontal" role="form">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                    <h4 class="modal-title" id="myModalLabel" data-bind="text: 'Телефон ( ' + formatFio() + ' )'">Телефон ( ИСМАГУЛОВА ЖАНАР ЕРИКОВНА )</h4>
                </div>
                <div class="modal-body" data-bind="with: selectedPhone"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                    <button type="button" class="btn btn-primary" data-bind="click: $parent.btPhoneNumberSubmit">Принять</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!--Старый адресный регистр-->
    <div class="modal fade" id="searchAddressFromStringModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" data-bind="with: searhAddress">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                    <h4 class="modal-title" id="myModalLabel">Выберите адрес</h4>
                </div>
                <div class="modal-body" data-bind="template: { name: 'search-adress-from-string-template', data: $data }">
        <form class="form-horizontal" role="form">
            <div class="form-group">
                <label for="addressType" class="col-md-2 control-label">Тип адреса:</label>
                <div class="col-md-10">
                    <select id="addressType" class="form-control" required="" data-bind="options: RPNDict.dicAddressTypes, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"><option value="">Выберите тип адреса...</option><option value="">Фактическое место жительства</option><option value="">Регистрация по месту жительства (прописка)</option><option value="">Регистрация по месту временного пребывания</option><option value="">Место рождения</option></select>
                </div>
            </div>
            <div class="form-group">
                <label for="fioiin" class="col-md-2 col-lg-2 col-sm-2 control-label">Адрес:</label>
                <input id="fioiin" class="col-md-9 col-lg-9 col-sm-9 form-control" data-bind="value: searchTextAddress, hasFocus: true" type="text">
                <div class="col-md-1 col-lg-1 col-sm-1">
                    <button type="submit" class="btn btn-primary btn-sm" data-bind="click: btSearchAddress"> 
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>
            
            <table class="table table-bordered">
                <tbody class="scroll" data-bind="foreach : resultAddresess"></tbody>
            </table>
        </form>
    </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-sm" data-bind="click: $parent.btCancelSelectAddress">Закрыть</button>
                    <button disabled="" type="button" class="btn btn-primary btn-sm" data-bind="click: $parent.btSelectAddress, enable: selectedAddress">
                        <span class="glyphicon glyphicon-remove"></span>Выбрать
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--Новый адресный регистр-->
    <div class="modal fade" id="searchAddress2Modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <form class="form-horizontal" role="form">
            <div class="modal-dialog" data-bind="with: searhAddress2">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                        <h4 class="modal-title" id="myModalLabel">Выберите адрес</h4>
                    </div>
                    <div class="modal-body" data-bind="template: { name: 'search-address2-template', data: $data }">
        <form class="form-horizontal" role="form">
            <ul class="text-danger" data-bind="foreach: errors"></ul>
            
            <div class="form-group">
                <label for="addressType" class="col-md-5 control-label">Тип адреса:</label>
                <div class="col-md-7">
                    <select id="addressType" class="form-control" data-bind="options: addressTypeList, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"><option value="">Выберите тип адреса...</option><option value="">Фактическое место жительства</option><option value="">Регистрация по месту жительства (прописка)</option><option value="">Регистрация по месту временного пребывания</option><option value="">Место рождения</option></select><span style="display: none;" class="validationMessage"></span>
                </div>
            </div>
            <div class="form-group">
                <label for="ates" class="col-md-5 col-lg-5 col-sm-5 control-label">Населенный пункт:</label>
                <input id="ates" class="col-md-9 col-lg-9 col-sm-9 form-control" data-bind="value: searchTextAte, hasFocus: true" type="text">
                <div class="col-md-1 col-lg-1 col-sm-1">
                    <button type="button" class="btn btn-primary btn-sm" data-bind="click: btSearchAte">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>
            <table class="table table-bordered">
                <tbody class="scroll" data-bind="foreach : ates"></tbody>
            </table>
            <!--Geonims-->
            <div class="form-group">
                <label for="geonim" class="col-md-5 col-lg-5 col-sm-5 control-label">СЧНП(состовная часть населеного пункта):</label>
                <input disabled="" id="geonim" class="col-md-5 col-lg-5 col-sm-5 form-control" data-bind="enable: selectedAte, value: searchTextGeonim" type="text">
                <div class="col-md-1 col-lg-1 col-sm-1">
                    <button disabled="" type="button" class="btn btn-primary btn-sm" data-bind="enable:selectedAte, click: btSearchGeonim">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>
            <table class="table table-bordered">
                <tbody class="scroll" data-bind="foreach : geonims"></tbody>
            </table>
            <div class="row">
                <div class="col-xs-6">
                    <!--buildings-->
                    <div class="row">
                        <div class="form-group col-md-11">
                            <label for="building" class="control-label col-md-4">Здание:</label>
                            <div class="col-md-8">
                                <input disabled="" class="form-control" id="building" data-bind="enable: selectedAte()!=null || selectedGeonim()!=null, value: searchTextBuilding" type="text">
                            </div>
                        </div>
                        <div class="col-sm-1">
                            <button disabled="" type="button" class="btn btn-primary btn-sm" data-bind="enable: selectedAte()!=null || selectedGeonim()!=null, click: btSearchBuilding">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </div>
                    </div>
                    <table class="table table-bordered">
                        <tbody class="scroll" data-bind="foreach : buildings"></tbody>
                    </table>
                </div>
                <div class="col-xs-6">
                    <!--appartments-->
                    <div class="row">
                        <div class="form-group col-md-11">
                            <label for="appartment" class="control-label col-md-4">Квартира:</label>
                            <div class="col-md-8">
                                <input disabled="" class="form-control" id="appartment" data-bind="enable: selectedBuilding, value: searchTextAppartment" type="text">
                            </div>
                        </div>
                        <div class="col-sm-1">
                            <button disabled="" type="button" class="btn btn-primary btn-sm" data-bind="enable: selectedBuilding, click: btSearchAppartment">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </div>
                    </div>
                    <table class="table table-bordered">
                        <tbody class="scroll" data-bind="foreach : appartments"></tbody>
                    </table>
                </div>
            </div>
            
            
            
        </form>
    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default btn-sm" data-bind="click: $parent.btCancelSelectAddress">Закрыть</button>
                        <button disabled="" type="button" class="btn btn-primary btn-sm" data-bind="click: $parent.btSelectAddress, enable: isAddressSelected">
                            <span class="glyphicon glyphicon-remove"></span>Выбрать
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>

<!-- редактировани адрессов персоны-->

<div class="modal fade" id="EditAdressPerson" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-bind="if:adressForEdit">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-bind="click: adressForEdit.btCancelEditAdress" aria-hidden="true">?</button>
                <h4 class="modal-title" id="myModalLabel">Адреса</h4>
            </div>
            <div class="modal-body" data-bind="template: { name: 'person-address-templateForFL', data: adressForEdit }">
    <form class="form-horizontal">
    
           
          
        <div class="row">
            <div class="col-lg-11">
                <table class="table table-bordered">
                    <tbody class="scroll" data-bind="foreach: $data.adress"></tbody>
                </table>
            </div>
            <div class="col-lg-1" style="padding: 5px">
                <div class="btn-group-vertical">
                    <button type="button" class="btn btn-primary navbar-btn" data-bind=" click:$data.AddAdres" data-toggle="modal" data-target="#addPAddressModalDialog" data-placement="top" title="Добавить адрес пациента">
                        <i class="glyphicon glyphicon-plus"></i>
                    </button>
                    
                    <button type="button" class="btn btn-danger navbar-btn" data-bind="click:btnDelteClick" title="Закрыть адрес пациента">
                        <i class="glyphicon glyphicon-minus"></i>
                    </button>
                        </div>
                    </div>
                </div>
  
      
     
</form>
</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm" data-bind="click: adressForEdit.btCancelEditAdress">
                    Закрыть
                </button>
            </div>
        </div>
    </div>
</div>


<!-- Добавление адресса-->
<div class="modal fade" id="AddAdr" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" data-bind="with:adressForEdit ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                <h4 class="modal-title" id="myModalLabel">Добавление адреса</h4>
            </div>

            <div class="modal-body" data-bind="template: { name: 'add-paddress-templateForFl', data: newPAdress }">
    <form class="form-horizontal">
        <div class="row">
            <ul class="text-danger" data-bind="foreach: errors"></ul>
        </div>
        <div class="form-group">
            <label for="inpAdr" class="col-lg-2 control-label">Адрес</label>
            <div class="col-lg-10">
                <div class="col-lg-10" data-bind="text: addressString"></div>
                <button type="button" class="btn btn-primary col-lg-2" id="inpAdr" data-bind="disable: isClosed, click:$parent.showSerchtextAdress" data-placement="top">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label">Тип адреса:</label>
            <div class="col-md-8">
                
                <select id="addressType" class="form-control" required="" data-bind="options: $parent.addressTypeList, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"><option value="">Выберите тип адреса...</option><option value="">Фактическое место жительства</option><option value="">Регистрация по месту жительства (прописка)</option><option value="">Регистрация по месту временного пребывания</option><option value="">Место рождения</option></select><span style="display: none;" class="validationMessage"></span>
            </div>
        </div>
        <div class="form-group">
            <label for="adressDtBegin" class="control-label col-lg-4">Дата началa:</label>
            <div class="col-lg-8">
                <input disabled="" class="form-control" data-provide="datepicker" id="adressDtBegin" data-bind="datepicker: beginDate, event: { change: $parent.DateChangeForSetNull},disable: true" type="text">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-lg-4" for="adressDtEnd">Дата окончания:</label>
            <div class="col-lg-8">
                <input class="form-control" data-provide="datepicker" id="adressDtEnd" readonly="readonly" data-bind="datepicker: endDate, event: { change: $parent.DateChangeForSetNull},disable: isClosed" type="text">
            </div>
        </div>
        <div class="form-group">
            <label for="isNoattachFilterFl" class="col-lg-4 control-label">Основной:</label>
            <div class="col-lg-8">
                <div class="checkbox">
                    <label>
                        <input id="isNoattachFilterFl" data-bind="checked: isMain, disable: isClosed" type="checkbox">
                    </label>
                </div>
            </div>
        </div>
    </form>
</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-bind="click:btCancelAddPAddress" data-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-primary" data-bind="click: btSubmitPAdressPerson">Добавить</button>
            </div>

           
        </div>
    </div>
</div>

<!-- -->

      <!--Старый адресный регистр-->
<div class="modal fade" id="searchAddressFromStringModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" data-bind="with: adressForEdit">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
                <h4 class="modal-title" id="myModalLabel">Выберите адрес</h4>
            </div>
            <div class="modal-body" data-bind="template: { name: 'search-adress-from-string-templateFL', data: $data.SerchAdress }">
    <form class="form-horizontal" role="form">
        
        <div class="form-group">
            <label for="fioiin" class="col-md-2 col-lg-2 col-sm-2 control-label">Адрес:</label>
            <input id="fioiin" class="col-md-9 col-lg-9 col-sm-9 form-control" data-bind="value: searchTextAddress, hasFocus: true" type="text">
            <div class="col-md-1 col-lg-1 col-sm-1">
                <button type="submit" class="btn btn-primary btn-sm" data-bind="click: btSearchAddress">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </div>
        </div>
        
        <table class="table table-bordered">
            <tbody class="scroll" data-bind="foreach : resultAddresess"></tbody>
        </table>
    </form>
</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm" data-bind="click: $data.btCancelSelectAddress">Закрыть</button>
                <button disabled="" type="button" class="btn btn-primary btn-sm" data-bind="click: $data.btSelectAddress, enable: $data.selectedAddress()">
                    <span class="glyphicon glyphicon-remove"></span>Выбрать
                </button>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="modalFile" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">

            <div class="modal-content">
                <form class="form-horizontal" role="form">
                    <p> выберите файлы (макс. 2)</p>

                    <input id="fileViwer2" data-bind="event: { change: function() { uploadImage($element.files[0]) } }" accept=".jpeg, .jpg, .pdf" style="margin: 15px;  width: 100%" multiple="" type="file">
                    <br>

                    <div style="height: inherit">
                        <img id="imageloc" style="width: 500px">
                    </div>
                </form>
                <div class="modal-footer">
                    
                    <button type="button" class="btn btn-default" data-bind="click:closeFileDialog">Сохранить</button>
                </div>
            </div>

        </div>
    </div>
<div class="modal fade" id="modalLinks" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <form class="form-horizontal" role="form">
            <div class="modal-content" style="padding: 15px">
                <p>Список файлов:</p>
                <table class="table table-bordered">
                    <tbody class="scroll2" data-bind="foreach: links"></tbody>
                </table>



                <div class="modal-footer">


                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                </div>
            </div>

        </form>
    </div>
</div>

    <!-- /ko -->
    <!--Templates-->
    <!--Старый адресный регистр-->
    <script id="search-adress-from-string-template" type="text/html">
        <form class="form-horizontal" role="form">
            <div class="form-group">
                <label for="addressType" class="col-md-2 control-label">Тип адреса:</label>
                <div class="col-md-10">
                    <select id="addressType" class="form-control" required
                            data-bind="options: RPNDict.dicAddressTypes, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="fioiin" class="col-md-2 col-lg-2 col-sm-2 control-label">Адрес:</label>
                <input type="text" id="fioiin" class="col-md-9 col-lg-9 col-sm-9 form-control" data-bind="value: searchTextAddress, hasFocus: true" />
                <div class="col-md-1 col-lg-1 col-sm-1">
                    <button type="submit" class="btn btn-primary btn-sm" data-bind="click: btSearchAddress"> 
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>
            
            <table class="table table-bordered">
                <tbody class="scroll" data-bind="foreach : resultAddresess">
                    <tr data-bind="click: $parent.selectedAddress, css: { 'active': $parent.selectedAddress()===$data }">
                        <td class="col-md-6" data-bind="text: addressStringRU"></td>
                    </tr>
                </tbody>
            </table>
        </form>
    </script>
    <script type="text/html" id="search-address2-template">
        <form class="form-horizontal" role="form">
            <ul class="text-danger" data-bind="foreach: errors">
                <li data-bind="text: $data"></li>
            </ul>
            
            <div class="form-group">
                <label for="addressType" class="col-md-5 control-label">Тип адреса:</label>
                <div class="col-md-7">
                    <select id="addressType" class="form-control"
                            data-bind="options: addressTypeList, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="ates" class="col-md-5 col-lg-5 col-sm-5 control-label">Населенный пункт:</label>
                <input type="text" id="ates" class="col-md-9 col-lg-9 col-sm-9 form-control" data-bind="value: searchTextAte, hasFocus: true" />
                <div class="col-md-1 col-lg-1 col-sm-1">
                    <button type="button" class="btn btn-primary btn-sm" data-bind="click: btSearchAte">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>
            <table class="table table-bordered">
                <tbody class="scroll" data-bind="foreach : ates">
                    <tr data-bind="click: $parent.selectedAte, css: { 'active': $parent.selectedAte()===$data }">
                        <td class="col-md-6" data-bind="text: name"></td>
                    </tr>
                </tbody>
            </table>
            <!--Geonims-->
            <div class="form-group">
                <label for="geonim" class="col-md-5 col-lg-5 col-sm-5 control-label">СЧНП(состовная часть населеного пункта):</label>
                <input type="text" id="geonim" class="col-md-5 col-lg-5 col-sm-5 form-control" data-bind="enable: selectedAte, value: searchTextGeonim" />
                <div class="col-md-1 col-lg-1 col-sm-1">
                    <button type="button" class="btn btn-primary btn-sm" data-bind="enable:selectedAte, click: btSearchGeonim">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>
            <table class="table table-bordered">
                <tbody class="scroll" data-bind="foreach : geonims">
                    <tr data-bind="click: $parent.selectedGeonim, css: { 'active': $parent.selectedGeonim()===$data }">
                        <td class="col-md-6" data-bind="text: name"></td>
                    </tr>
                </tbody>
            </table>
            <div class="row">
                <div class="col-xs-6">
                    <!--buildings-->
                    <div class="row">
                        <div class="form-group col-md-11">
                            <label for="building" class="control-label col-md-4">Здание:</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="building" data-bind="enable: selectedAte()!=null || selectedGeonim()!=null, value: searchTextBuilding">
                            </div>
                        </div>
                        <div class="col-sm-1">
                            <button type="button" class="btn btn-primary btn-sm" data-bind="enable: selectedAte()!=null || selectedGeonim()!=null, click: btSearchBuilding">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </div>
                    </div>
                    <table class="table table-bordered">
                        <tbody class="scroll" data-bind="foreach : buildings">
                            <tr data-bind="click: $parent.selectedBuilding, css: { 'active': $parent.selectedBuilding()===$data }">
                                <td class="col-md-6" data-bind="text: name"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-xs-6">
                    <!--appartments-->
                    <div class="row">
                        <div class="form-group col-md-11">
                            <label for="appartment" class="control-label col-md-4">Квартира:</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="appartment" data-bind="enable: selectedBuilding, value: searchTextAppartment">
                            </div>
                        </div>
                        <div class="col-sm-1">
                            <button type="button" class="btn btn-primary btn-sm" data-bind="enable: selectedBuilding, click: btSearchAppartment">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </div>
                    </div>
                    <table class="table table-bordered">
                        <tbody class="scroll" data-bind="foreach : appartments">
                            <tr data-bind="click: $parent.selectedAppartment, css: { 'active': $parent.selectedAppartment()===$data }">
                                <td class="col-md-6" data-bind="text: name"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            
            
        </form>
    </script>

  






        <!-- ko with: person --><!-- /ko -->

<script type="text/html" id="add-paddress-template">
    <form class="form-horizontal">
        <div class="row">
            <ul class="text-danger" data-bind="foreach: errors">
                <li class="alert" data-bind="text: $data"></li>
            </ul>
        </div>
        <div class="form-group">
            <label for="inpAdr" class="col-lg-2 control-label">Адрес</label>
            <div class="col-lg-10">
                <div class="col-lg-10" data-bind="text: addressString"></div>
                <button type="button" class="btn btn-primary col-lg-2" id="inpAdr" data-bind="disable: isClosed"
                        data-toggle="modal" data-target="#addPersonAddressModalDialog" data-placement="top">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label">Тип адреса:</label>
            <div class="col-md-8">
                <span data-bind="text: formatAddressType"></span>
                
            </div>
        </div>
        <div class="form-group">
            <label for="adressDtBegin" class="control-label col-lg-4">Дата началa:</label>
            <div class="col-lg-8">
                <input class="form-control" data-provide="datepicker" id="adressDtBegin" type="text"
                       data-bind="datepicker: beginDate, event: { change: $parent.DateChangeForSetNull},disable: isClosed">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-lg-4" for="adressDtEnd">Дата окончания:</label>
            <div class="col-lg-8">
                <input class="form-control" data-provide="datepicker" id="adressDtEnd" readonly="readonly" type="text"
                       data-bind="datepicker: endDate, event: { change: $parent.DateChangeForSetNull},disable: isClosed">
            </div>
        </div>
        <div class="form-group">
            <label for="isNoattachFilterFl" class="col-lg-4 control-label">Основной:</label>
            <div class="col-lg-8">
                <div class="checkbox">
                    <label>
                        <input id="isNoattachFilterFl" type="checkbox" data-bind="checked: isMain, disable: isClosed">
                    </label>
                </div>
            </div>
        </div>
    </form>
</script>
<script type="text/html" id="person-general-template">
    <form class="form-horizontal" data-bind="with: personData">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="col-lg-6">
                    <div class="form-group">
                        <label for="inpIin" class="col-lg-4 control-label">ИИН</label>
                        <div class="col-lg-8">
                            <input type="text" id="inpIin" data-bind="value: iin, disable: hGBD" class="form-control" />
                        </div>
                    </div>
                    <div class="form-group has-error">
                        <label for="inpIIn" class="col-lg-4 control-label">Фамилия:</label>
                        <div class="col-lg-8">
                            <input type="text" id="inpIIn" data-bind="value: lastName, disable: hGBD" class="form-control" />
                        </div>
                    </div>
                    <div class="form-group has-error">
                        <label for="inpFirstName" class="col-lg-4 control-label">Имя:</label>
                        <div class="col-lg-8">
                            <input type="text" id="inpFirstName" data-bind="value: firstName, disable: hGBD" class="form-control" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inpSecondName" class="col-lg-4 control-label">Отчество:</label>
                        <div class="col-lg-8">
                            <input type="text" id="inpSecondName" data-bind="value: secondName, disable: hGBD" class="form-control" />
                        </div>
                    </div>
                    <div class="form-group has-error">
                        <label for="inpSexPerson" class="col-lg-4 control-label">Пол:</label>
                        <div class="col-lg-8">
                            <select class="form-control" id="inpSexPerson"
                                    data-bind="options: $parent.sexArray, optionsText: 'name',  value: sex, disable: hGBD, optionsCaption: 'Выберите пол...'"></select>
                        </div>
                    </div>
                    <div class="form-group has-error">
                        <label for="inpDtRojd" class="col-lg-4 control-label">Дата рождения</label>
                        <div class="col-lg-6">
                            
                            
                            
                            <div data-bind="ifnot: hGBD">
                                <input type="text" id="inpDtRojd" data-provide="datepicker"
                                       data-bind="datepicker: birthDate"
                                       class="form-control" />
                            </div>
                            <div data-bind="if: hGBD"><span data-bind="text: formatBirthDate"></span></div>
                        </div>
                    </div>
                    <div class="form-group has-error">
                        <label for="inpCitizen" class="col-lg-4 control-label">Гражданство:</label>
                        <div class="col-lg-8">
                            
                            <div data-bind="ifnot: hGBD">
                                
                                
                                <select class="form-control" required id="inpCitizen" data-bind="options: $parent.citizensArray, optionsText: 'name', value: citizen" />
                            </div>
                            <div data-bind="if: hGBD"><span class="form-control" data-bind="text: formatCitizen"></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <img data-bind="attr: { src: $parent.getPfoto() }" alt="" height="250" />
                    <div class="row">
                        <ul class="nav navbar-nav navbar-left">
                            <li>
                                <button type="button" class="btn btn-default navbar-btn"
                                        data-toggle="modal" data-target="" data-placement="top" title="Добавить фото пациента">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                            </li>
                            <li>
                                <button type="button" class="btn btn-danger navbar-btn"
                                        data-toggle="tooltip" data-placement="top" title="Удалить фото пациента">
                                    <i class="glyphicon glyphicon-minus"></i>
                                </button>
                            </li>
                        </ul>
                    </div>
                    <div class="form-group">
                        <label for="inpNational" class="col-lg-4 control-label">Национальность:</label>
                        <div class="col-lg-8">
                            
                            <div data-bind="ifnot: hGBD">
                                <input list="lstNationals" class="form-control has-error" id="inpNational"
                                       data-bind="datalist: { options: $parent.nationalsArray, optionsText: 'name', value: national, disable: hGBD }" />
                            </div>
                            <div data-bind="if: hGBD"><span class="form-control" data-bind="text: formatNational"></span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</script>
<script type="text/html" id="person-address-template">
    <form class="form-horizontal" data-bind="with: personData">
        <div class="panel panel-default has-error">
            <div class="panel-heading">Адреса</div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-11">
                        <table class="table table-bordered">
                            <tbody class="scroll" data-bind="foreach: addresses">
                                <tr data-bind="click: $parent.selectedAddress, css: { 'active': $parent.selectedAddress() === $data }">
                                    <td>
                                        <b data-bind="text: addressString"></b>
                                    </td>
                                    <td>
                                        <span class="glyphicon glyphicon-ok" data-bind="visible: isMain()==true"></span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-lg-1">
                        <div class="btn-group-vertical" data-bind="visible: $parent.isAddPerson()">
                            <!--Новый-новый АР
                            <button type="button" class="btn btn-primary navbar-btn" data-bind="enable:  $parent.isAddPerson(), click: $parent.btAddAddress"
                                    data-toggle="modal" data-placement="top"
                                    title="Добавить адрес пациента">
                                <i class="glyphicon glyphicon-plus"></i>
                            </button>-->
                            <!-- Старый АР -->
                            <button type="button" class="btn btn-primary navbar-btn" data-bind="enable:  $parent.isAddPerson()"
                                    data-toggle="modal" data-target="#addPAddressModalDialog" data-placement="top"
                                    title="Добавить адрес пациента">
                                <i class="glyphicon glyphicon-plus"></i>
                            </button>
                            <button type="button" class="btn btn-success navbar-btn"
                                    data-bind="click: $parent.showEditAddress, enable: $parent.isAddPerson() && selectedAddress() "
                                    title="Редактировать адрес пациента">
                                <i class="glyphicon glyphicon-pencil"></i>
                            </button>
                            <button type="button" class="btn btn-danger navbar-btn"
                                    data-bind="click: $parent.showRemoveAddress, enable: $parent.isAddPerson() && selectedAddress() && !selectedAddress().isClosed()"
                                    title="Закрыть адрес пациента">
                                <i class="glyphicon glyphicon-minus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading">Телефоны</div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-10">
                                <table class="table table-bordered">
                                    <tbody class="scroll" data-bind="foreach: phones">
                                        <tr data-bind="click: $parent.selectedPhone, css: { 'active': $parent.selectedPhone() === $data }">
                                            <td data-bind="if: PhoneType">
                                                <b data-bind="text: PhoneType().name"></b>
                                            </td>
                                            <td>
                                                <b data-bind="text: PhoneNumber"></b>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-lg-2">
                                <div class="btn-group-vertical" data-bind="visible: $parent.isAddPerson()">
                                    <button type="button" class="btn btn-primary navbar-btn"
                                            data-bind="click: $parent.btAddPhone, enable:  $parent.isAddPerson()" title="Добавить телефон">
                                        <i class="glyphicon glyphicon-plus"></i>
                                    </button>
                                    <button type="button" class="btn btn-success navbar-btn"
                                            data-bind="click: $parent.btUpdatePhone, enable: $parent.isAddPerson() && selectedPhone()" title="Редактировать телефон">
                                        <i class="glyphicon glyphicon-pencil"></i>
                                    </button>
                                    <button type="button" class="btn btn-danger navbar-btn"
                                            data-bind="click: $parent.btRemovePhone, enable: $parent.isAddPerson() && selectedPhone()" title="Удалить телефон">
                                        <i class="glyphicon glyphicon-minus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading">Адреса электронной почты</div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-10">
                                <table class="table table-bordered">
                                    <tbody class="scroll" data-bind="foreach: emails">
                                        <tr data-bind="click: $parent.selectedEmail, css: { 'active': $parent.selectedEmail() === $data }">
                                            <td>
                                                <b data-bind="text: Email"></b>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-lg-2">
                                <div class="btn-group-vertical" data-bind="visible: $parent.isAddPerson()">
                                    <button type="button" class="btn btn-primary navbar-btn"
                                            data-bind="click: $parent.btAddEmail, enable: $parent.isAddPerson()" title="Добавить электронный адрес">
                                        <i class="glyphicon glyphicon-plus"></i>
                                    </button>
                                    <button type="button" class="btn btn-success navbar-btn"
                                            data-bind="click: $parent.btUpdateEmail, enable: $parent.isAddPerson() && selectedEmail()" title="Редактировать электронный адрес">
                                        <i class="glyphicon glyphicon-pencil"></i>
                                    </button>
                                    <button type="button" class="btn btn-danger navbar-btn"
                                            data-bind="click: $parent.btRemoveEmail, enable: $parent.isAddPerson() && selectedEmail()" title="Удалить электронный адрес">
                                        <i class="glyphicon glyphicon-minus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</script>
<script type="text/html" id="person-social-template">
    <form class="form-horizontal" data-bind="with: personData">
        <div class="panel panel-default">
            <div class="panel-heading">Социальный статус</div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-11">
                        <table class="table table-bordered">
                            <tbody class="scroll" data-bind="foreach: socialStatuses">
                                <tr data-bind="click: $parent.selectedSocialStatus, css: { 'active': $parent.selectedSocialStatus() === $data }">
                                    <td>
                                        <b data-bind="text: formatSocialStatus"></b>
                                    </td>
                                    <td>
                                        <b data-bind="text: formatBeginDate"></b>
                                    </td>
                                    <td>
                                        <b data-bind="text: formatEndDate"></b>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-lg-1">
                        <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                            <button type="button" class="btn btn-primary navbar-btn"
                                    data-bind="click: $parent.btAddSS, enable: $parent.isEditPerson() && $parent.isAddPerson()"
                                    title="Добавить социальный статус">
                                <i class="glyphicon glyphicon-plus"></i>
                            </button>
                            <button type="button" class="btn btn-success navbar-btn"
                                    data-bind="click: $parent.btUpdateSS, enable: $parent.isEditPerson() && $parent.isAddPerson() && selectedSocialStatus()"
                                    title="Редактировать социальный статус">
                                <i class="glyphicon glyphicon-pencil"></i>
                            </button>
                            <button type="button" class="btn btn-danger navbar-btn"
                                    data-bind="click: $parent.btRemoveSS, enable: $parent.isEditPerson() && $parent.isAddPerson() && selectedSocialStatus()"
                                    title="Удалить социальный статус">
                                <i class="glyphicon glyphicon-minus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">Категория льготности</div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-11">
                        <table class="table table-bordered">
                            <tbody class="scroll" data-bind="foreach: benefits">
                                <tr data-bind="click: $parent.selectedBenefit, css: { 'active': $parent.selectedBenefit() === $data }">
                                    <td>
                                        <b data-bind="text: formatStatus"></b>
                                    </td>
                                    <td>
                                        <b data-bind="text: formatBeginDate"></b>
                                    </td>
                                    <td>
                                        <b data-bind="text: formatEndDate"></b>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-lg-1">
                        <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                            <button type="button" class="btn btn-primary navbar-btn"
                                    data-bind="click: $parent.btAddBenefits, enable: $parent.isEditPerson() && $parent.isAddPerson()" title="Добавить категорию льготности">
                                <i class="glyphicon glyphicon-plus"></i>
                            </button>
                            <button type="button" class="btn btn-success navbar-btn"
                                    data-bind="click: $parent.btUpdateBenefits, enable: $parent.isEditPerson() && $parent.isAddPerson() && selectedBenefit()"
                                    title="Редактировать категорию льготности">
                                <i class="glyphicon glyphicon-pencil"></i>
                            </button>
                            <button type="button" class="btn btn-danger navbar-btn"
                                    data-bind="click: $parent.btRemoveBenefits, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedBenefit()"
                                    title="Закрыть категориб льготности">
                                <i class="glyphicon glyphicon-minus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
                <div class="panel-heading">Семейное положение</div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-11">
                            <table class="table table-bordered">
                                <tbody class="scroll" data-bind="foreach: maritals">
                                    <tr data-bind="click: $parent.selectedMarital, css: { 'active': $parent.selectedMarital() === $data }">
                                        <td class="col-lg-11">
                                            <b data-bind="text: formatStatus"></b>
                                        </td>
                                        <td class="col-lg-1">
                                            <b data-bind="text: formatBeginDate"></b>
                                        </td>
                                        <td class="col-lg-1">
                                            <b data-bind="text: formatEndDate"></b>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-1">
                            <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                                <button type="button" class="btn btn-primary navbar-btn"
                                        data-bind="click: $parent.btAddMarital, ebable: $parent.isEditPerson() && $parent.isAddPerson()"
                                        title="Добавить семейное положение">
                                    <i class="glyphicon glyphicon-plus"></i>
                                </button>
                                <button type="button" class="btn btn-success navbar-btn"
                                        data-bind="click: $parent.btUpdateMarital, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedMarital()"
                                        title="Редактировать семейное положение">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                                <button type="button" class="btn btn-danger navbar-btn"
                                        data-bind="click: $parent.btRemoveMarital, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedMarital()"
                                        title="Закрыть семейное положение">
                                    <i class="glyphicon glyphicon-minus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </form>
</script>
<script id="person-family-template" type="text/html">
        <form class="form-horizontal" data-bind="with: personData">
            <div class="panel panel-default">
                <div class="panel-heading">Опекуны</div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-11">
                            <table class="table table-bordered">
                                <tbody class="scroll" data-bind="foreach: guardians">
                                    <tr data-bind="click: $parent.selectedGuardian, css: { 'active': $parent.selectedGuardian() === $data }">
                                        <td>
                                            <b data-bind="text: formatGuardian"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatGuardType"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatRelationDegree"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatBeginDate"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatEndDate"></b>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-1">
                            <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                                <button type="button" class="btn btn-primary navbar-btn"
                                        data-bind="click: $parent.btAddGuardian,enable: $parent.isEditPerson() && $parent.isAddPerson()"
                                        title="Добавить опекуна">
                                    <i class="glyphicon glyphicon-plus"></i>
                                </button>
                                <button type="button" class="btn btn-success navbar-btn"
                                        data-bind="click: $parent.btUpdateGuardian, enable:  $parent.isEditPerson() && $parent.isAddPerson() && selectedGuardian()"
                                        title="Редактировать опекуна">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                                <button type="button" class="btn btn-danger navbar-btn"
                                        data-bind="click: $parent.btRemoveGuardian, enable:  $parent.isEditPerson() && $parent.isAddPerson() && selectedGuardian()"
                                        title="Удалить опекуна">
                                    <i class="glyphicon glyphicon-minus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">Родственные отношения</div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-11">
                            <table class="table table-bordered">
                                <tbody class="scroll" data-bind="foreach: relatives">
                                    <tr data-bind="click: $parent.selectedRelative, css: { 'active': $parent.selectedRelative() === $data }">
                                        <td>
                                            <b data-bind="text: formatRelative"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatRelativeType"></b>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-1">
                            <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                                <button type="button" class="btn btn-primary navbar-btn"
                                        data-bind="click: $parent.btAddRelative,enable: $parent.isEditPerson() && $parent.isAddPerson()"
                                        title="Добавить родственника">
                                    <i class="glyphicon glyphicon-plus"></i>
                                </button>
                                <button type="button" class="btn btn-success navbar-btn"
                                        data-bind="click: $parent.btUpdateRelative, enable:  $parent.isEditPerson() && $parent.isAddPerson() && selectedRelative()"
                                        title="Редактировать родственника">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                                <button type="button" class="btn btn-danger navbar-btn"
                                        data-bind="click: $parent.btRemoveRelative, enable:  $parent.isEditPerson() && $parent.isAddPerson() && selectedRelative()"
                                        title="Удалить родственника">
                                    <i class="glyphicon glyphicon-minus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </script>
<script id="person-employment-template" type="text/html">
        <form class="form-horizontal" data-bind="with: personData">
            <div class="panel panel-default">
                <div class="panel-heading">Занятость</div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-11">
                            <table class="table table-bordered">
                                <tbody class="scroll" data-bind="foreach: employments">
                                    <tr data-bind="click: $parent.selectedEmployment, css: { 'active': $parent.selectedEmployment() === $data }">
                                        <td>
                                            <b data-bind="text: EmploymentPlace"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatEmploymentType"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatEmploymentKind"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatBeginDate"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatEndDate"></b>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-1">
                            <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                                <button type="button" class="btn btn-primary navbar-btn"
                                        data-bind="click: $parent.btAddEmployment,enable:  $parent.isEditPerson() && $parent.isAddPerson()"
                                        title="Добавить занятость">
                                    <i class="glyphicon glyphicon-plus"></i>
                                </button>
                                <button type="button" class="btn btn-success navbar-btn"
                                        data-bind="click: $parent.btUpdateEmployment, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedEmployment()"
                                        title="Редактировать занятость">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                                <button type="button" class="btn btn-danger navbar-btn"
                                        data-bind="click: $parent.btRemoveEmployment, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedEmployment()"
                                        title="Удалить занятость">
                                    <i class="glyphicon glyphicon-minus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">Образование</div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-11">
                            <table class="table table-bordered">
                                <tbody class="scroll" data-bind="foreach: educations">
                                    <tr data-bind="click: $parent.selectedEducation, css: { 'active': $parent.selectedEducation() === $data }">
                                        <td>
                                            <b data-bind="text: formatEducationType"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatBeginDate"></b>
                                        </td>
                                        <td>
                                            <b data-bind="text: formatEndDate"></b>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-1">
                            <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                                <button type="button" class="btn btn-primary navbar-btn"
                                        data-bind="click: $parent.btAddEducation,enable: $parent.isEditPerson() && $parent.isAddPerson()"
                                        title="Добавить образование">
                                    <i class="glyphicon glyphicon-plus"></i>
                                </button>
                                <button type="button" class="btn btn-success navbar-btn"
                                        data-bind="click: $parent.btUpdateEducation, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedEducation()"
                                        title="Редактировать образование">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                                <button type="button" class="btn btn-danger navbar-btn"
                                        data-bind="click: $parent.btRemoveEducation, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedEducation()"
                                        title="Удалить образование">
                                    <i class="glyphicon glyphicon-minus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
</script>
<script type="text/html" id="person-registinfo-template">
        <form class="form-horizontal" data-bind="with: personData">
            <div class="panel panel-default">
                <div class="panel-heading">Документы</div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-11">
                            <table class="table table-bordered">
                                <tbody class="scroll" data-bind="foreach: documents">
                                    <tr data-bind="click: $parent.selectedDocument, css: { 'active': $parent.selectedDocument() === $data }">
                                        <td>
                                            <span data-bind="with: Type">
                                                <b>Тип документа:</b><span data-bind="text: name"></span>&nbsp;
                                            </span>
                                            <b>Дата выдачи:</b><span data-bind="text: formatBeginDate"></span>&nbsp;
                                            <b>Срок действия:</b><span data-bind="text: formatBeginDate"></span>&nbsp;
                                            <b>Номер документа:</b><span data-bind="text: Number"></span>&nbsp;
                                            <span data-bind="with: Issued">
                                                <b>Кем выдан:</b><span data-bind="text: name"></span>&nbsp;
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-1">
                            <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                                <button type="button" class="btn btn-primary navbar-btn"
                                        data-bind="click: $parent.btAddDocument,enable:  $parent.isEditPerson() && $parent.isAddPerson()"
                                        title="Добавить документ">
                                    <i class="glyphicon glyphicon-plus"></i>
                                </button>
                                <button type="button" class="btn btn-success navbar-btn"
                                        data-bind="click: $parent.btUpdateDocument, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedDocument()"
                                        title="Редактировать документ">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                                <button type="button" class="btn btn-danger navbar-btn"
                                        data-bind="click: $parent.btRemoveDocument, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedDocument()"
                                        title="Удалить документ">
                                    <i class="glyphicon glyphicon-minus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">Номер амбулаторной карты</div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-11">
                            <table class="table table-bordered">
                                <tbody class="scroll" data-bind="foreach: cards">
                                    <tr data-bind="click: $parent.selectedCard, css: { 'active': $parent.selectedCard() === $data }">
                                        <td data-bind="text: formatOrgHealthCare"></td>
                                        <td data-bind="text: CardNumber"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-1">
                            <div class="btn-group-vertical" data-bind="visible: $parent.isEditPerson() && $parent.isAddPerson()">
                                <button type="button" class="btn btn-primary navbar-btn"
                                        data-bind="click: $parent.btAddCard, enable: $parent.isEditPerson() && $parent.isAddPerson()"
                                        title="Добавить амбулаторную карту">
                                    <i class="glyphicon glyphicon-plus"></i>
                                </button>
                                <button type="button" class="btn btn-success navbar-btn"
                                        data-bind="click: $parent.btUpdateCard, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedCard()"
                                        title="Редактировать амбулаторную карту">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                                <button type="button" class="btn btn-danger navbar-btn"
                                        data-bind="click: $parent.btRemoveCard, enable: $parent.isEditPerson() && $parent.isAddPerson() &&  selectedCard()"
                                        title="Удалить амбулаторную карту">
                                    <i class="glyphicon glyphicon-minus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
</script>
  
        <!-- ko with: territory --><!-- /ko -->
        <!--Templates-->
        <script type="text/html" id="search-doctor-template">
            <form class="form-horizontal" role="form">
                <ul class="text-danger" data-bind="foreach: errors">
                    <li class="alert" data-bind="text: $data"></li>
                </ul>
                <div class="form-group">
                    <label for="fioiin" class="col-md-2 col-lg-2 col-sm-2 control-label">ФИО:</label>
                    <input type="text" id="fioiin" class="col-md-9 col-lg-9 col-sm-9 form-control" data-bind="value: searchTextFioIin, hasFocus: true" />
                    <div class="col-md-1 col-lg-1 col-sm-1">
                        <button type="submit" class="btn btn-primary btn-sm" data-bind="click: btSearchPerson">
                            
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2">найдено:</label>
                    <span data-bind="text: countDoctors"></span>
                </div>
                <table class="table table-bordered">
                    <tbody class="scroll" data-bind="foreach : resultDoctors">
                        <tr data-bind="click: $parent.selectedDoctor, css: { 'active': $parent.selectedDoctor()===$data } ">
                            
                            <td>
                                <span>ФИО: </span><b><span style="cursor: pointer" data-bind="text: formatFio" class="control-label"></span></b>
                                <br />
                                
                                <span>ИИН:: </span><b><span style="cursor: pointer" data-bind="text: iin" class="control-label"></span></b>
                                <br />
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="col-md-offset-4">
                    Страница
                    <a class="btn btn-lg glyphicon glyphicon-arrow-left" href="#" data-bind="enable: pageNo()>1, click: prevPage"></a>
                    <input type="number" data-bind="value: pageNo, attr:{max:countPages}" size="2" min="1" /> из <span data-bind="text: countPages"></span>
                    <a class="btn btn-lg glyphicon glyphicon-arrow-right" href="#" data-bind="enable: isExistsNextPage,click: nextPage"></a>
                </div>
            </form>
        </script>

        <script type="text/html" id="search-person-template">
            <form class="form-horizontal" role="form">
                <ul class="text-danger" data-bind="foreach: errors">
                    <li class="alert" data-bind="text: $data"></li>
                </ul>
                <div class="form-group">
                    <label for="fioiin" class="col-md-2 col-lg-2 col-sm-2 control-label">ФИО/ИИН:</label>
                    <input type="text" id="fioiin" class="col-md-5 col-lg-5 col-sm-5 form-control" data-bind="value: searchTextFioIin, hasFocus: true" />
                    <div class="col-md-1 col-lg-1 col-sm-1">
                        <button type="submit" class="btn btn-primary btn-sm" data-bind="click: btSearchPerson">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3 control-label" data-bind="text: 'найдено'+':'+countDoctors()"></div>
                </div>
                
                <table class="table table-bordered" style="margin-bottom: -2px;padding-right: 5px;">
                    <tr>
                        <td class="col-lg-1">Пол</td>
                        <td class="col-lg-5">ФИО</td>
                        <td class="col-lg-2">ИИН</td>
                        <td class="col-lg-3">Дата рождения</td>
                        <td class="col-lg-1">ГБДФЛ</td>
                    </tr>
                </table>
                <table class="table table-bordered">
                    
                    <tbody class="scroll" data-bind="foreach : resultDoctors">
                        <tr data-bind="click: $parent.selectedDoctor, css: { 'active': $parent.selectedDoctor()===$data } ">
                            <td class="col-lg-1">
                                <img data-bind="attr: { src: seximage, title: formatSex }" style="height: 20px;" />
                            </td>
                            <td class="col-lg-6" data-bind="text: formatFio"></td>
                            <td class="col-lg-2" data-bind="text: iin"></td>
                            <td class="col-lg-2" data-bind="text: formatBirthDate"></td>
                            <td class="col-lg-1" data-bind="text: formatHGBD"></td>
                        </tr>
                    </tbody>
                </table>
                <div class="col-md-offset-4">
                    Страница
                    <a class="btn btn-lg glyphicon glyphicon-arrow-left" href="#" data-bind="enable: pageNo()>1, click: prevPage"></a>
                    <input type="number" data-bind="value: pageNo, attr:{max:countPages}" size="2" min="1" /> из <span data-bind="text: countPages"></span>
                    <a class="btn btn-lg glyphicon glyphicon-arrow-right" href="#" data-bind="enable: isExistsNextPage,click: nextPage"></a>
                </div>
            </form>
        </script>
        <script type="text/html" id="territories-template">
            <ul class="scroll panel-bordered" data-bind="foreach: Addreses">
                <li data-bind="click: $parent.selectedAddsessItem, clickBubble: false">
                    <span class="btn btn-default btn-sm glyphicon glyphicon-plus" data-bind="click: togleClidsList"></span>
                    <span class="btn" data-bind="text: title, click: togleClidsList, css: { 'active':  $parents[0].selectedAddsessItem()== $data }"></span>
                    <ul data-bind="foreach: childs" class="collapse">
                        <li data-bind="click: $parents[1].selectedAddsessItem, clickBubble: false">
                            <span class="btn btn-default btn-sm glyphicon glyphicon-plus" data-bind="click: togleClidsList"></span>
                            <span class="btn" data-bind="text: title, click: togleClidsList, css: { 'active':  $parents[1].selectedAddsessItem()== $data }"></span>
                            <div data-bind="foreach: childs" class="list-group collapse">
                                <a href="#" class="list-group-item" data-bind="click: $parents[2].selectedAddsessItem , clickBubble: false, text: buildingsNumbersWithStreetName, css: { 'active':  $parents[2].selectedAddsessItem()== $data }"></a>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </script>
        <script type="text/html" id="deats-cert-template">
            <form class="form-horizontal" role="form">
                <ul class="text-danger" data-bind="foreach: errors">
                    <li data-bind="text: $data"></li>
                </ul>
                <div class="text-center">
                    <h4><strong data-bind="text: personFio"></strong></h4>
                </div>
                
                <div class="form-group">
                    <label for="causeDeadMKB" class="col-md-6 control-label">Причина смерти: (Код МКБ):</label>
                    <div class="col-md-6">
                        <input id="causeDeadMKB" type="text" class="form-control" required
                               data-bind="value: causeDeadMKB, valueUpdate: 'afterkeydown', event:{keypress: keypressCauseDeadCode}" />
                        <span data-bind="visible: isSearchMkb">Загрузка...</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="causeDeadName" class="col-md-6 control-label">Причина смерти:  (Заболевание):</label>
                    <div class="col-md-6" id="divCauseName">
                        <input class="form-control" id="causeDeadName"
                               data-bind="value: causeDeadName, valueUpdate: 'afterkeydown', event:{keypress: keypressCauseDeadName}" />
                        <span data-bind="visible: isSearchCauseName">Загрузка...</span>
                    </div>
                </div>
                <div class="scroll" data-bind="visible: visibleListNames">
                    <div id="listCauseDeathNames" class="list-group"
                         data-bind="foreach: causeDeadArray">
                        <a href="#" class="list-group-item"
                           data-bind="text: publicCode+ ' ' + name , click: $parent.selectedCauseDead, css: { 'active' : $parent.selectedCauseDead == $data }">
                            
                        </a>
                    </div>
                </div>
                <div class="form-group">
                    <label for="deathDate" class="col-md-6 control-label">Дата смерти:</label>
                    <div class="col-md-6">
                        <input class="form-control" data-provide="datepicker" id="deathDate" required
                               data-bind="datepicker: deathDate, event: { change: DateChangeForSetNull}">
                    </div>
                </div>
                <div class="form-group">
                    <label for="locationCache" class="col-md-6 control-label">Место смерти:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="locationCache" required
                                data-bind="options: locationsArray, optionsText: 'name',  value: locationCache, optionsCaption: 'Выберите место смерти...'"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="deathRegNum" class="col-md-6 control-label">№ свид. о смерти:</label>
                    <div class="col-md-6">
                        <input id="deathRegNum" type="text" class="form-control"
                               data-bind="value: deathRegNum" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="deathRegDate" class="col-md-6 control-label">Дата выдачи свид. о смерти:</label>
                    <div class="col-md-6">
                        <input class="form-control" data-provide="datepicker" id="deathRegDate"
                               data-bind="datepicker: deathRegDate, event: { change: DateChangeForSetNull}">
                    </div>
                </div>
            </form>
        </script>

        <script type="text/html" id="select-org-template">
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="listObls" class="control-label col-md-2">Область:</label>
                    <div class="col-md-10">
                        <select class="form-control" id="listObls" data-bind="options: oblsArray, optionsText: 'name', value: selObl, optionsCaption: 'Выберите область...'"></select>
                    </div>
                </div>
                <table class="table table-bordered">
                    <tbody class="scroll" data-bind="foreach: pmspsArray">
                        <tr data-bind="click: $parent.selOrg, css: { 'active': $parent.selOrg()===$data }">
                            <td>
                                <span class="control-label" data-bind="text: name"></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div data-bind="visible: isLoadingTerritories">Загрузка...</div>
            </form>
        </script>

        <!-- ko with: processAttach --><!-- /ko -->
<!--Templates-->
<script type="text/html" id="criteriaRequestAttachment-template">
    <ul class="text-danger" data-bind="foreach: errors">
        <li data-bind="text: $data"></li>
    </ul>
    <span data-bind="visible: isLoadingRequests">Загрузка...</span>
    <div class="row">
        <div class="form-group">
            <label for="oblName" class="col-md-5 control-label">Регион:</label>
            <div class="col-md-7">
                <span class=" form-control" id="oblName"
                      data-bind="text: oblName"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-5 control-label">Мед. Организация</label>
            <div class="col-md-7">
                <span class=" form-control" id="omedOrg"
                      data-bind="text: medOrgFormat"></span>
            </div>
        </div>
        <div class="form-group">
            <label for="beginDate" class="col-md-5 control-label">Дата начала периода:</label>
            <div class="col-md-7">
                <span class=" form-control" id="beginDate"
                      data-bind="text: beginDateFormat"></span>
            </div>
        </div>
        <div class="form-group">
            <label for="endDate" class="col-md-5 control-label">Дата окончания периода:</label>
            <div class="col-md-7">
                <span class=" form-control" id="endDate"
                      data-bind="text: endDateFormat"></span>
            </div>
        </div>
        <div class="form-group">
            <label for="attachmentStatuses" class="row col-sm-offset-4 control-label">Статус запроса:</label>
            <div class="row col-sm-offset-1">
                
                <ul class="list-inline" id="attachmentStatuses">
                    <!-- ko foreach: statusesAttach -->
                    <li data-bind="text: name"></li>
                    <!-- /ko -->
                </ul>
            </div>
        </div>
        <div class="form-group">
            <label for="attachmentProfile" class="col-md-5 control-label">Профиль прикрепления:</label>
            <div class="col-md-7">
                <span class=" form-control" id="attachmentProfile"
                      data-bind="text: attachmentProfileFormat"></span>
            </div>
        </div>
        <div class="form-group">
            <label for="causeOfAttach" class="col-md-5 control-label">Причина:</label>
            <div class="col-md-7">
                <span class=" form-control" id="causeOfAttach"
                      data-bind="text: causeOfAttachFormat"></span>
            </div>
        </div>
    </div>
</script>
<script type="text/html" id="criteriaForRefuse-template">
    <ul class="text-danger" data-bind="foreach: errors">
        <li data-bind="text: $data"></li>
    </ul>
    <span data-bind="visible: isLoadingRequests">Загрузка...</span>
    <div class="row">
        <div class="form-group">
            <label for="regNameForRefuse" class="col-md-4 control-label">Регион:</label>
            <p class="col-md-8 form-control-static" id="regNameForRefuse" data-bind="text: oblName"></p>
        </div>
        <div class="form-group">
            <label for="orgNameForRefuse" class="col-md-4 control-label">Мед. Организация</label>
            <p class="col-md-8 form-control-static" id="orgNameForRefuse" data-bind="text: medOrgFormat"></p>
        </div>
        <div class="form-group">
            <label for="beginDateForRefuse" class="col-md-4 control-label">Дата начала периода:</label>
            <p class="col-md-8 form-control-static" id="beginDateForRefuse" data-bind="text: beginDateFormat"></p>
        </div>
        <div class="form-group">
            <label for="endDateForRefuse" class="col-md-4 control-label">Дата окончания периода:</label>
            <p class="col-md-8 form-control-static" id="endDateForRefuse" data-bind="text: endDateFormat"></p>
        </div>
        <div class="form-group">
            <label for="attachmentStatusesForRefuse" class="col-md-4 control-label">Статус запроса:</label>
            <div id="attachmentStatusesForRefuse" class="col-md-8">
                <ul class="list-inline" id="attachmentStatuses">
                    <!-- ko foreach: statusesAttach -->
                    <li data-bind="text: name"></li>
                    <!-- /ko -->
                </ul>
            </div>
        </div>
        <div class="form-group has-error" data-bind="css:{'has-error' :!causeOfRefuse.isValid()}, validationOptions: { insertMessages: false}">
            <label for="causeOfAttachForRefuse" class="col-md-4 control-label">Причина:</label>
            <select id="causeOfAttachForRefuse" class="col-md-8 form-control" data-bind="options: causeOfRefuseArray, optionsText: 'name', value: causeOfRefuse, optionsCaption: 'Выберите причину отказа...'"></select>
            <p class="col-md-8 col-md-offset-4 text-danger" data-bind="validationMessage: causeOfRefuse"></p>
        </div>
        </div>
</script>
        <!-- ko with: rojdsv --><!-- /ko -->
<!--Templates-->
<script type="text/html" id="search-pmsp-template">

    <ul class="text-danger" data-bind="foreach: errors">
        <li class="alert" data-bind="text: $data"></li>
    </ul>
    <div class="form-group">
        <label for="inpselectedObl" class="control-label col-lg-4">Область:</label>
        <div class="col-lg-8">
            <select id="inpselectedObl" class="form-control" data-bind="options: oblsArray,  optionsText: 'nameRU', value: selectedObl, optionsCaption: 'Пожалуйста выберите область...'"></select>
        </div>

    </div>
    <form class="form-group" role="form">

        <label class="control-label col-lg-4">Поиск:</label>
        <div class="col-lg-6 form-group">
            
            <input id="notSendInput" class="form-control" type="text" data-bind="value: filter" />
        </div>
        <div class="btn-group col-md-2 form-group">
            <button type="submit" class="btn btn-primary btn-sm" data-bind="click: btFind">
                <span class="glyphicon glyphicon-search"></span>
            </button>
        </div>

    </form>
    <div class="row" data-bind="visible: isLoading">
        Загрузка...
    </div>
    <table class="table table-bordered">
        <tbody class="scroll" data-bind="foreach: filteredArray">
            <tr data-bind="click: $parent.selectedPmsp, css: { 'active': $parent.selectedPmsp()==$data }">
                <td class="col-md-6" data-bind="text: name"></td>
            </tr>
        </tbody>
    </table>

</script>
<script type="text/html" id="birth-form-template">
    <form class="form-horizontal" role="form" data-bind="with: selectedBirth">
        <div>
            <ul class="text-danger" data-bind="foreach: errors">
                <li data-bind="text: $data"></li>
            </ul>
        </div>
        <div class="panel-group" id="accordionBirth">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordionBirth" href="#generalBirhtInfoPanel">
                            <span>Основная информация</span>
                        </a>
                    </h4>
                </div>
                <div id="generalBirhtInfoPanel" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="inpNum" class="control-label col-lg-4">Номер:</label>
                                    <div class="col-lg-8">
                                        <input type="text" class="form-control" id="inpNum"
                                               data-bind="value: Num, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="col-lg-8">
                                    <div class="form-group">
                                        <label for="beginDateVd" class="control-label col-lg-6">Дата выдачи свид.: с:</label>
                                        <div class="col-lg-6">
                                            <strong data-bind="text: formatDt"></strong>
                                            
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!Mother.isValid()}">
                                    <label for="inpMother" class="control-label col-lg-4">ФИО матери:</label>
                                    <div class="col-lg-8">
                                        <input id="inpMother" type="text" data-bind="value: Mother, disable:true, visible:false"
                                               class="form-control" />
                                        <div class="input-group">
                                            <span class="control-label" data-bind="text: formatMotherFio"></span>
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-primary" data-bind="click: $parent.btSearchMother, disable: ConfirmOriginal">
                                                    <span class="glyphicon glyphicon-search"></span>
                                                </button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!TerritoryUnitType.isValid()}">

                                    <label for="inpTerType" class="col-lg-4 control-label">Житель города/села:</label>
                                    <div class="col-md-8">
                                        <select class="form-control" id="inpTerType"
                                                data-bind="options: territoryUnitTypeCacheArray, optionsText: 'name',  value: TerritoryUnitType, optionsCaption: 'Выберите житель города/села......', disable: ConfirmOriginal"></select>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">Ребенок:</div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="form-group has-error col-lg-6" data-bind="css:{'has-error' :!flLastName.isValid()}">
                                        <label for="inpLastNameBabies" class="control-label col-lg-4">Фамилия:</label>
                                        <div class="col-lg-8">
                                            <input type="text" id="inpLastNameBabies" class="form-control" data-bind="value: flLastName, disable: ConfirmOriginal" required />
                                        </div>
                                    </div>
                                    <div class="form-group has-error col-lg-6" data-bind="css:{'has-error' :!Sex.isValid()}">
                                        <label for="inpSexBabies" class="control-label col-lg-4">Пол:</label>
                                        <div class="col-lg-8">
                                            <select id="inpSexBabies" class="form-control"
                                                    data-bind="options: sexArray, optionsText: 'name', value: Sex, optionsCaption: 'Выберите пол...', disable: ConfirmOriginal" required></select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group has-error col-lg-6" data-bind="css:{'has-error' :!flFirstName.isValid()}">
                                        <label for="inpFirstNameBabies" class="control-label col-lg-4">Имя:</label>
                                        <div class="col-lg-8">
                                            <input type="text" id="inpFirstNameBabies" class="form-control" data-bind="value: flFirstName, disable: ConfirmOriginal" required>
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6" data-bind="with: flPerson">
                                        <label for="inpSecondNameBabies" class="control-label col-lg-4">Отчество:</label>
                                        <div class="col-lg-8">
                                            <input type="text" id="inpSecondNameBabies" class="form-control" data-bind="value: secondName, disable: $parent.ConfirmOriginal">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-4">Выдал свидетельство:</label>
                            <label class="control-label col-lg-6" data-bind="text: formatWhoIssued"></label>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!Loc.isValid()}">
                                    <label for="inpFirstNameBabies" class="control-label col-lg-4">Место родов:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpTerType"
                                                data-bind="options: locationsArray, optionsText: 'name',  value: Loc, optionsCaption: 'Выберите место родов...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!DateBirth.isValid()}">
                                    <label for="inpDateBirth" class="control-label col-lg-4">Дата родов:</label>
                                    <div class='col-lg-8 input-group date' id='inpDateBirth'>
                                        <input type='text' class="form-control" data-provide="datetimepicker" size="16"
                                               data-bind="datetimepicker:{datetime: DateBirth}, disable: ConfirmOriginal" />
                                        
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!Mature.isValid()}">
                                    <label for="inpMature" class="control-label col-lg-4">Доношенность:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpMature"
                                                data-bind="options: matureArray, optionsText: 'name',  value: Mature, optionsCaption: 'Выберите вид выношенности...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :birthCriteries().length == 0}">
                                    <label for="inpCriteriaBirth" class="control-label col-lg-4">Критерии живорождения:</label>
                                    <div class="col-lg-8">
                                        <!-- ko foreach: criteriaBirthsCacheArray -->
                                        <label class="checkbox-inline">
                                            <input id="inpCriteriaBirth" type="checkbox" data-bind="checkedValue: $data, checked: $parent.birthCriteries, disable: $parent.ConfirmOriginal" />
                                            <span data-bind="text: name"></span>
                                        </label>
                                        <!-- /ko -->
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!Apgar1.isValid()}">
                                    <label for="inpApgar1Babies" class="control-label col-lg-8">Апгар 1 мин:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpApgar1Babies" class="form-control" data-bind="value: Apgar1, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    
                                    <div class="col-lg-12">
                                        <input class="form-control" id="inpPlaceBirth" data-bind="value: AddressText, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!CharBirth.isValid()}">
                                    <label for="inpcharBirth" class="control-label col-lg-4">Ребенок родился:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpcharBirth"
                                                data-bind="options: charBirthCacheArray, optionsText: 'name',  value: CharBirth, optionsCaption: 'Выберите как родился...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!Mass.isValid()}">
                                    <label for="inpMassBabies" class="control-label col-lg-8">Масса при рождении, гр.:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpMassBabies" class="form-control" data-bind="value: Mass, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!Growth.isValid()}">
                                    <label for="inpGrowthBabies" class="control-label col-lg-8">Рост при рождении, см.:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpGrowthBabies" class="form-control" data-bind="value: Growth, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!Apgar2.isValid()}">
                                    <label for="inpApgar5Babies" class="control-label col-lg-8">Апгар 5 мин:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpApgar5Babies" class="form-control" data-bind="value: Apgar2, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">Ребенок родился при сроке беременности</div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="form-group has-error col-lg-6" data-bind="css:{'has-error' :!PeriodBornFrom.isValid()}">
                                        <label for="inpSrokS" class="control-label col-lg-6">С (полных недель):</label>
                                        <div class="col-lg-6">
                                            <input type="text" id="inpSrokS" class="form-control" data-bind="value: PeriodBornFrom, disable: ConfirmOriginal">
                                        </div>
                                    </div>
                                    <div class="form-group has-error col-lg-6" data-bind="css:{'has-error' :!PeriodBornTo.isValid()}">
                                        <label for="inpSrokPo" class="control-label col-lg-6">По (полных недель)</label>
                                        <div class="col-lg-6">
                                            <input type="text" id="inpSrokPo" class="form-control" data-bind="value: PeriodBornTo, disable: ConfirmOriginal">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!PregnancyCount.isValid()}">
                                    <label for="inpNumberOfBer" class="control-label col-lg-8">Беременность по счету:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpNumberOfBer" class="form-control" data-bind="value: PregnancyCount, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :!BirthCount.isValid()}">
                                    <label for="inpNumberOfBirth" class="control-label col-lg-8">Роды по счету:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpNumberOfBirth" class="form-control" data-bind="value: BirthCount, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!BornChildCount.isValid()}">
                                    <label for="inpNumberOfBabies" class="control-label col-lg-8">Родившийся ребенок по счету:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpNumberOfBabies" class="form-control" data-bind="value: BornChildCount, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordionBirth" href="#factorBirhtInfoPanel">
                            <span>Факторы беременности</span>
                        </a>
                    </h4>
                </div>
                <div id="factorBirhtInfoPanel" class="panel-collapse collapse">
                    <div class="panel-body" data-bind="template: { name: 'factorBirht-template', data: $data }"></div>
                </div>
            </div>
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordionBirth" href="#motherBirhtInfoPanel">
                            <span>Данные о матери</span>
                        </a>
                    </h4>
                </div>
                <div id="motherBirhtInfoPanel" class="panel-collapse collapse">
                    <div class="panel-body" data-bind="template: { name: 'motherBirht-template', data: $data }"></div>
                </div>
            </div>
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordionBirth" href="#form2009yBirhtInfoPanel">
                            <span>Регистрация учетных данных по форме 2009у</span>
                        </a>
                    </h4>
                </div>
                <div id="form2009yBirhtInfoPanel" class="panel-collapse collapse">
                    
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="inpNumKart" class="control-label col-lg-6">Номер карты:</label>
                                    <div class="col-lg-6">
                                        <input class="form-control" id="inpNumKart" data-bind="value: NumberDoc, disable: ConfirmOriginal" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inpRegDate" class="control-label col-lg-6">Дата заполнения карты:</label>
                                    <div class="col-lg-6">
                                        <input class="form-control" data-provide="datepicker" id="inpRegDate"
                                               data-bind="datepicker: RegDate, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">

                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="inpRmn" class="control-label col-lg-6">РМН:</label>
                                    <div class="col-lg-6">
                                        <input class="form-control" id="inpRmn" data-bind="value: RMN, disable: ConfirmOriginal" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inpLevelMOBirth" class="control-label col-lg-6">Уровень регионализации МО, где родился:</label>
                                    <div class="col-lg-6">
                                        <select class="form-control" id="inpLevelMOBirth"
                                                data-bind="options: LevelsMoArray, optionsText: 'name', optionsValue: 'id', value: LevelMOBirth, optionsCaption: 'Выберите уровень регионализации...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="form-group col-lg-2">
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" data-bind="checked: Transfer, disable: ConfirmOriginal"><strong>Переведен</strong>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group  col-lg-6">
                                <label for="inpTransverID" class="control-label col-lg-4">Куда переведен:</label>
                                <div class="col-lg-8">
                                    <select class="form-control" id="inpTransverID"
                                            data-bind="options: TransferTypeArray, optionsText: 'name', optionsValue: 'id', value: TransferID, optionsCaption: 'Выберите куда переведен...', enable: Transfer() && !ConfirmOriginal()"></select>
                                </div>
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="datePerev" class="control-label col-lg-4">Дата перевода:</label>
                                <div class="col-lg-8">
                                    <input class="form-control" data-provide="datepicker" id="datePerev"
                                           data-bind="datepicker: TransferDate, event: { change: DateChangeForSetNull}, enable: Transfer() && !ConfirmOriginal()">
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="form-group col-lg-6">
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" data-bind="checked: WrittenOut, disable: ConfirmOriginal"><strong>Выписан на участок по месту жительства</strong>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group  col-lg-6">
                                <label for="dateVip" class="control-label col-lg-6">Дата выписки:</label>
                                <div class="col-lg-6">
                                    <input class="form-control" data-provide="datepicker" id="dateVip"
                                           data-bind="datepicker: WrittenOutDate, event: { change: DateChangeForSetNull}, enable: WrittenOut() && !ConfirmOriginal()">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inpOrgAttachs" class="control-label col-lg-4">Организация прикрепления:</label>
                            <div class="input-group col-lg-8">
                                <span id="inpOrgAttachs" class="control-label col-lg-8" data-bind="text: formatAttachMO"></span>
                                <span class="input-group-btn col-lg-4">
                                    <button type="button" class="btn btn-primary" data-bind="click: $parent.btSearchPmsp, disable: ConfirmOriginal">
                                        <span class="glyphicon glyphicon-search"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="checkbox">
            <label>
                <input id="inpIsConfirm" type="checkbox" data-bind="checked: Confirm, disable: ConfirmOriginal" />
                <font data-bind="style: { color: Confirm() ? 'green' : 'red' }">
                    <strong>Подтверждаю, что все данные введены и проверены</strong><br>
                    <span class="danger">Для взаимодействия с внешними системами свидетельство должно быть подтверждено *</span>
                </font>
            </label>
        </div>
    </form>
</script>
<script type="text/html" id="motherBirht-template">
    <div class="row">
        <div class="col-lg-6">
            <div class="form-group">
                <label for="inpMotherFio" class="control-label col-lg-2">ФИО:</label>
                <div class="col-lg-10">
                    <label class="form-control" id="inpMotherFio" data-bind="text: formatMotherFio"></label>
                </div>
            </div>
            <div class="form-group">
                <label for="inpmotherSelAddress" class="control-label col-lg-6">Адрес</label>
                <div class="col-lg-6">
                    <select class="form-control" id="inpmotherSelAddress"
                            data-bind="options: motherAddressArray, optionsText: 'addressString',  value: motherSelAddress, optionsCaption: 'Выберите адрес матери...', disable: ConfirmOriginal"></select>
                </div>
            </div>
            <div data-bind="with: motherSelAddress"><strong data-bind="text: addressString"></strong> </div>
            <div class="form-group">
                <label for="inpMotherBirthDate" class="control-label col-lg-6">Дата рождения:</label>
                <div class="col-lg-6">
                    <label class="form-control" id="inpMotherBirthDate" data-bind="text: formatMotherBirthDate"></label>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="form-group">
                <label for="inpMotherNational" class="control-label col-lg-6">Национальность</label>
                <div class="col-lg-6">
                    <label class="form-control" id="inpMotherNational" data-bind="text: formatMotherNational"></label>
                </div>
            </div>
            <div class="form-group has-error" data-bind="css:{'has-error' :!HouseholdPos.isValid()}">
                <label for="inpFamilyMother" class="control-label col-lg-6">Семейное положение:</label>
                <div class="col-lg-6">
                    <select class="form-control" id="inpFamilyMother"
                            data-bind="options: dicMaritalStatusTypes, optionsText: 'name',  value: HouseholdPos, optionsCaption: 'Выберите семейное положение матери...', disable: ConfirmOriginal"></select>
                </div>
            </div>
            <div class="form-group has-error" data-bind="css:{'has-error' :!EducType.isValid()}">
                <label for="inpMotherObraz" class="control-label col-lg-6">Образование</label>
                <div class="col-lg-6">
                    <select class="form-control" id="inpMotherObraz"
                            data-bind="options: dicEducationTypes, optionsText: 'name',  value: EducType, optionsCaption: 'Выберите образование матери...', disable: ConfirmOriginal"></select>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/html" id="factorBirht-template">
    <div class="row">
        <div class="col-lg-7">
            <table class="table table-bordered">
                <tbody class="scroll2" data-bind="foreach: factorsPregnanciesArray">
                    <tr>
                        
                        <td>
                            <div>
                                <button type="button" class="btn btn-default btn-sm" data-bind="click: $parent.downFactorGroupDetail, clickBubble: false">
                                    <span class="glyphicon glyphicon-plus"></span>&nbsp;
                                    <span data-bind="text: name"></span>
                                </button>
                                <div class="collapse" data-bind="css: { 'in': $parent.selectedGroupFactor()===$data }">
                                    <!-- ko foreach: childs -->
                                    <div class="row">
                                        <div class="col-lg-8">
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" data-bind="checkedValue: $data, checked: $parents[1].selFactorsPregnancies, clickBubble: false, disable: $parents[1].ConfirmOriginal" />
                                                    <span data-bind="text: name"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <!-- ko if: id==34 -->
                                            <input class="form-control" type="text" data-bind="value: $parents[1].factor34, disable: $parents[1].ConfirmOriginal" />
                                            <!-- /ko -->
                                            <!-- ko if: id==47 -->
                                            <input class="form-control" type="text" data-bind="value: $parents[1].factor47, disable: $parents[1].ConfirmOriginal" />
                                            <!-- /ko -->
                                            <!-- ko if: id==53 -->
                                            <input class="form-control" type="text" data-bind="value: $parents[1].factor53, disable: $parents[1].ConfirmOriginal" />
                                            <!-- /ko -->
                                            <!-- ko if: id==60 -->
                                            <input class="form-control" type="text" data-bind="value: $parents[1].factor60, disable: $parents[1].ConfirmOriginal" />
                                            <!-- /ko -->
                                            <!-- ko if: id==74 -->
                                            <input class="form-control" type="text" data-bind="value: $parents[1].factor74, disable: $parents[1].ConfirmOriginal" />
                                            <!-- /ko -->
                                        </div>
                                    </div>
                                    <!-- /ko -->
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-lg-5">
            <table class="table table-bordered">
                <tbody class="scroll2" data-bind="foreach: selectedFactorsTree">
                    <tr>
                        <td>
                            <strong data-bind="text: name"></strong>
                            <ul>
                                <!-- ko foreach: childs -->
                                <li>
                                    <span data-bind="text: name"></span>&nbsp;
                                    <!-- ko if: id==34 -->
                                    <span data-bind="text: $parents[1].factor34"></span>
                                    <!-- /ko -->
                                    <!-- ko if: id==47 -->
                                    <span data-bind="text: $parents[1].factor47"></span>
                                    <!-- /ko -->
                                    <!-- ko if: id==53 -->
                                    <span data-bind="text: $parents[1].factor53"></span>
                                    <!-- /ko -->
                                    <!-- ko if: id==60 -->
                                    <span data-bind="text: $parents[1].factor60"></span>
                                    <!-- /ko -->
                                    <!-- ko if: id==74 -->
                                    <span data-bind="text: $parents[1].factor74"></span>
                                    <!-- /ko -->
                                </li>
                                <!-- /ko -->
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</script>
<script type="text/html" id="searchResultBirth-template">
    <form class="form-horizontal" role="form">
        <div class="form-group">
            <ul class="text-danger" data-bind="foreach: errors">
                <li data-bind="text: $data"></li>
            </ul>
        </div>
        <div data-bind="visible: isLoadingResults">Загрузка...</div>

        <div class="row">
            <div class="col-lg-6">
                <div class="form-group">
                    
                    <div class="col-lg-offset-4">
                        <input type="radio" name="flavorGroup" value="all" data-bind="checked: strConfirm" />&nbsp;Все
                        <input type="radio" name="flavorGroup" value="confirmed" data-bind="checked: strConfirm" />&nbsp;Подтвержденные
                        <input type="radio" name="flavorGroup" value="notconfirmed" data-bind="checked: strConfirm" />&nbsp;Не подтвержденные
                    </div>
                </div>
                <div class="form-group ">
                    <label for="inpFioMother" class="control-label col-lg-4">ФИО матери:</label>
                    <div class="col-lg-8">
                        <input type="text" class=" form-control" id="inpFioMother"
                               data-bind="value: fioMother">
                    </div>
                </div>
                <div>
                    <div class="col-lg-7">
                        <div class="form-group">
                            <label for="beginDateVd" class="control-label col-lg-7">Дата выдачи свид.: с:</label>
                            <div class="col-lg-5">
                                <input class="form-control" data-provide="datepicker" id="beginDateVd"
                                       data-bind="datepicker: beginDateVd, event: { change: DateChangeForSetNull}">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <div class="form-group">
                            <label for="endDateVd" class="control-label col-lg-4">по:</label>
                            <div class="col-lg-8">
                                <input class="form-control" data-provide="datepicker" id="endDateVd"
                                       data-bind="datepicker: endDateVd, event: { change: DateChangeForSetNull}">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12"></div>
                <div class="form-group">
                    <label for="inpLocation" class="col-lg-4 control-label">Где родился:</label>
                    <div class="col-md-8">
                        
                        <select class="form-control" id="inpLocation"
                                data-bind="options: locationsArray, optionsText: 'name',  value: location, optionsCaption: 'Выберите место рождения...'"></select>

                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group ">
                    <label for="inpFioMother" class="control-label col-lg-4">Номер:</label>
                    <div class="col-lg-8">
                        <input type="text" class=" form-control" id="inpFioMother"
                               data-bind="value: numberSv">
                    </div>
                </div>
                <div class="form-group ">
                    <label for="inpFioBabies" class="control-label col-lg-4">ФИО ребенка:</label>
                    <div class="col-lg-8">
                        <input type="text" class=" form-control" id="inpFioBabies"
                               data-bind="value: fioBabies">
                    </div>
                </div>
                <div>
                    <div class="col-lg-8">
                        <div class="form-group ">
                            <label for="beginDateRoj" class="control-label col-lg-6">Дата рождения с:</label>
                            <div class="col-lg-6">
                                <input class="form-control" data-provide="datepicker" id="beginDateRoj"
                                       data-bind="datepicker: beginDateRoj, event: { change: DateChangeForSetNull}">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group ">
                            <label for="endDateRoj" class="control-label col-lg-2">по:</label>
                            <div class="col-lg-10">
                                <input class="form-control" data-provide="datepicker" id="endDateRoj"
                                       data-bind="datepicker: endDateRoj, event: { change: DateChangeForSetNull}">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inpMature" class="col-lg-4 control-label">Доношенность:</label>
                    <div class="col-lg-8">
                        
                        <select class="form-control" id="inpMature"
                                data-bind="options: matureArray, optionsText: 'name',  value: mature, optionsCaption: 'Выберите доношенность...'"></select>

                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3">Кто выдал::&nbsp;</label>
                <div class="col-lg-7">
                    <div><b>МО:&nbsp;</b><span data-bind="text: formatMo"></span></div>
                    <div><b>ФИО:&nbsp;</b><label class="control-label" data-bind="text: formatWhoIssued"></label></div>
                </div>
                <div class="input-group col-lg-2">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary"
                                data-bind="click: btShowWhoIssued">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </span>
                </div>
            </div>
        </div>
        <div class="btn-group">
            <button type="submit" class="btn btn-primary" data-bind="click: btSearch"
                    data-toggle="tooltip" data-placement="top" title="Поиск">
                <span class="glyphicon glyphicon glyphicon-search"></span>
                <span>Поиск</span>
            </button>
            <button type="button" class="btn btn-default" data-bind="click: btClearCriteria"
                    data-toggle="tooltip" data-placement="top" title="Очистить критерии">
                <span class="glyphicon glyphicon-remove"></span>
                <span>Очистить критерии</span>
            </button>
            <button type="button" class="btn btn-info" data-bind="click: btAddRoj"
                    data-toggle="tooltip" data-placement="top" title="Добавить свидетельство о рождении">
                <span class="glyphicon glyphicon-plus"></span>
                <span>Добавить</span>
            </button>
        </div>
    </form>
</script>

        <!-- ko with: deathsv --><!-- /ko -->
<!--Templates-->

<script type="text/html" id="death-perinatal-form-template">
    <form class="form-horizontal" role="form" data-bind="with: selectedDathPerinatal">
        <div>
            <ul class="text-danger" data-bind="foreach: errors">
                <li data-bind="text: $data"></li>
            </ul>
        </div>
        <div class="row" data-bind="with: MedDeathReg">
            <div class="col-lg-6">
                <div class="form-group">
                    <label for="inpNum" class="control-label col-lg-4">Номер:</label>
                    <div class="col-lg-8">
                        <input type="text" class=" form-control" id="inpNum"
                               data-bind="value: Num, disable: ConfirmOriginal">
                    </div>
                </div>
                <div class="form-group has-error" data-bind="css:{'has-error' :!Type.isValid()}">
                    <label for="inpTypeSv" class="col-lg-4 control-label">Тип свидетельства:</label>
                    <div class="col-md-8">
                        <select class="form-control" id="inpTypeSv"
                                data-bind="options: $parents[1].hDeathRegTypeArray, optionsText: 'name',  value: Type, optionsCaption: 'Пожалуйста выберите тип документа...', enable: !ConfirmOriginal() && $parent.isEnableSelectPerson()"></select>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label class="control-label col-lg-4">Дата выдачи свид.:</label>
                    <div class="col-lg-8">
                        <strong data-bind="text: $parent.formatDtVd"></strong>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inpPreviousVcc" class="control-label col-lg-4">Предыдущее ВСС:</label>
                    <div class="col-lg-8">
                        <span class=" form-control" id="inpPreviousVcc"
                              data-bind="text: formatPreviousVcc"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <!-- Nav tabs -->
            <div class="row col-lg-12">
                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a href="#gentab" role="tab" data-toggle="tab">Основная информация</a></li>
                    <li><a href="#mothertab" role="tab" data-toggle="tab">Данные о матери</a></li>
                    <li><a href="#sickstab" role="tab" data-toggle="tab">Заболевания и осложнения</a></li>
                    <li><a href="#causepertab" role="tab" data-toggle="tab">Причины перинатальной смерти</a></li>
                    <li><a href="#factorspertab" role="tab" data-toggle="tab">Факторы беременности</a></li>
                    <li><a href="#form2009tab" role="tab" data-toggle="tab">Учетная форма № 2009/у</a></li>
                </ul>
            </div>
            <!-- Tab panes -->
            <div class="row tab-content col-lg-12">
                <div class="tab-pane fade in active" id="gentab">
                    <table class="table table-bordered table-striped">
                        <tr><th class="col-lg-2">Место для шифра</th><th class="col-lg-10">Основная информация</th></tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: PersonFullNameCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td data-bind="with: MedDeathReg">
                                
                                <div class="col-lg-6">
                                    <div class="radio col-lg-6">
                                        <label>
                                            <input type="radio" name="optionsRadios" value="true"
                                                   data-bind="checked: $parent.IsStillbornText, enable: $parent.isEnableSelectPerson">
                                            Мертворожденный
                                        </label>
                                    </div>
                                    <div class="radio col-lg-6">
                                        <label>
                                            <input type="radio" name="optionsRadios" value="false"
                                                   data-bind="checked: $parent.IsStillbornText, enable: $parent.isEnableSelectPerson">
                                            Умер на 1-й неделе жизни
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group has-error col-lg-6" data-bind="css:{'has-error' :formatFioFL()==''}">
                                    <label class="control-label col-lg-3">Умерший:</label>
                                    <label class="control-label col-lg-7" data-bind="text: formatFioFL"></label>
                                    <div class="input-group col-lg-2">
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-primary"
                                                    data-bind="click: $parents[1].btSearchOrAddFLDeathPerinatal, enable: !ConfirmOriginal() && $parent.isEnableSelectPerson()">
                                                <span class="glyphicon glyphicon-search"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                                
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: SexCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td data-bind="with: MedDeathReg">
                                <div class="col-lg-6" data-bind="with: flPerson">
                                    <label class="control-label">Пол:&nbsp;</label><strong data-bind="text: formatSex"></strong>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DateBirthCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td data-bind="with: MedDeathReg">
                                <div class="col-lg-6 pull-left" data-bind="with: flPerson">
                                    <label class="control-label">Дата рождения:&nbsp;</label><strong data-bind="text: formatBirthDate"></strong>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DateDeathCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td data-bind="with: MedDeathReg">
                                <div class="form-group pull-left has-error" data-bind="css:{'has-error' :!DtDeath.isValid()}">
                                    <label for="DtDeath" class="control-label col-lg-5">Дата смерти:</label>
                                    <div class="col-lg-7">
                                        <input size="16" data-provide="datetimepicker" type="text" class="form-control" id="DtDeath"
                                               data-bind="datetimepicker:{ datetime:DtDeath}, enable: $parent.isEnableSelectPerson">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: PlaceDeathCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td data-bind="with: MedDeathReg">
                                <div class="form-group pull-left has-error" data-bind="css:{'has-error' :!Loc.isValid()}">
                                    <label for="inpLoc" class="control-label col-lg-4 pull-left">Где умер:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpLoc"
                                                data-bind="options: $parents[1].locationForDeathNoPerinatal, optionsText: 'name',  value: Loc, optionsCaption: 'Выберите где последовала смерть...', disable: ConfirmOriginal, event: { change: ResetPlaceDeath}"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: PlaceResidenceMotherCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td data-bind="with: MedDeathReg">
                                <div class="text-left has-error" data-bind="css:{'has-error': (!isOtherPlaceDeath() && formatAdressDeath() == '') || (isOtherPlaceDeath() && (AddressText() == undefined || AddressText() == ''))}">
                                    <label for="inpAddr" class="control-label col-lg-2 ">Место смерти:</label>
                                    <div class="form-group col-lg-8" data-bind="visible: isOtherPlaceDeath">
                                        <input type="text" class="form-control" data-bind="value: AddressText" />
                                    </div>
                                    <div class="form-group col-lg-8" data-bind="visible: !isOtherPlaceDeath()">
                                        <span id="inpAddr" class="control-label col-lg-10" data-bind="text: formatAdressDeath"></span>
                                        <div class="col-lg-1">
                                            <button type="submit" class="btn btn-primary" data-bind="click: $parents[1].btDeathAddressPerinatal, disable: ConfirmOriginal"
                                                    data-toggle="tooltip" data-placement="top" title="Поиск">
                                                <span class="glyphicon glyphicon glyphicon-search"></span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                
                            </td>
                            <td>
                                <div data-bind="visible: IsStillborn()==false, ">
                                    <div class="form-group col-lg-6" data-bind="css:{'has-error': !Apgar1.isValid()}">
                                        <label for="inpApgar1Babies" class="control-label col-lg-8">Апгар 1 мин:</label>
                                        <div class="col-lg-4">
                                            <input type="text" id="inpApgar1Babies" class="form-control" data-bind="value: Apgar1, disable: ConfirmOriginal">
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6" data-bind="css:{'has-error': !Apgar2.isValid()}">
                                        <label for="inpApgar5Babies" class="control-label col-lg-8">Апгар 5 мин:</label>
                                        <div class="col-lg-4">
                                            <input type="text" id="inpApgar5Babies" class="form-control" data-bind="value: Apgar2, disable: ConfirmOriginal">
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: PersonFullNameCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <div class="form-group has-error" data-bind="visible: IsStillborn()==false,css:{'has-error' :birthCriteries().length == 0}">
                                    <label for="inpCriteriaBirth" class="control-label col-lg-3">Критерии живорождения:</label>
                                    <div class="col-lg-9">
                                        <!-- ko foreach: criteriaBirthsCacheArray -->
                                        <label class="checkbox-inline">
                                            <input id="inpCriteriaBirth" type="checkbox" data-bind="checkedValue: $data, checked: $parent.birthCriteries, disable: $parent.ConfirmOriginal" />
                                            <span data-bind="text: name"></span>
                                        </label>
                                        <!-- /ko -->
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: WeightChildBirthCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <div class="form-group" data-bind="css:{'has-error' :!Mass.isValid()}">
                                    <label for="inpMassBabies" class="control-label col-lg-3">Масса при рождении, гр.:</label>
                                    <div class="col-lg-2">
                                        <input type="text" id="inpMassBabies" class="form-control" data-bind="value: Mass, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: GrowthChildCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <div class="form-group" data-bind="css:{'has-error' :!Growth.isValid()}">
                                    <label for="inpGrowthBabies" class="control-label col-lg-3">Рост при рождении, см.:</label>
                                    <div class="col-lg-2">
                                        <input type="text" id="inpGrowthBabies" class="form-control" data-bind="value: Growth, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: PersonFullNameCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label for="inpMature" class="control-label col-lg-4">Доношенность:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpMature"
                                                data-bind="options: matureArray, optionsText: 'name',  value: Mature, optionsCaption: 'Выберите доношеность...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: ChildWasBornDeadCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group" data-bind="visible: IsStillborn()==false">
                                    <label for="inpChildBornType" class="control-label col-lg-4">Плод родился:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpChildBornType"
                                                data-bind="options: ChildBornTypeArray, optionsText: 'name',  value: ChildBornType, optionsCaption: 'Выберите как родился плод...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: ChildWasBornCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label for="inpcharBirth" class="control-label col-lg-4">Ребенок родился (кол-во плодов):</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpcharBirth"
                                                data-bind="options: charBirthCacheArray, optionsText: 'name',  value: CharBirth, optionsCaption: 'Выберите как родился...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DeathChildOccurredCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label for="inpRelBirth" class="control-label col-lg-4">Смерть наступила:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpRelBirth"
                                                data-bind="options: RelBirthArray, optionsText: 'name',  value: RelBirth, optionsCaption: 'Выберите как наступила смерть...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DeathChildHappendCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label for="inpType" class="control-label col-lg-4">Смерть произошла:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpType"
                                                data-bind="options: $parents[1].hDeathTypesArray, optionsText: 'name',  value: Type, optionsCaption: 'Выберите как произошла смерть...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: CauseDeathBasedUponCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left" data-bind="with: MedDeathReg">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!TPersonal.isValid()}">
                                    <label for="inpWhoEstablished" class="col-lg-6 control-label">Причина смерти(мертворождения) установлена:</label>
                                    <div class="col-md-6">
                                        <select class="form-control" id="inpWhoEstablished"
                                                data-bind="options: $parents[1].hPersDRegTypesPerinatalArray, optionsText: 'name',  value: TPersonal, optionsCaption: 'Выберите кем установлена смерть...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode"></td>
                            <td class="text-left" data-bind="with: MedDeathReg">
                                <div class="form-group has-error" data-bind="css:{'has-error' :Reason()==undefined}">
                                    <label for="inpReason" class="col-lg-6 control-label">На основании:</label>
                                    <div class="col-md-6">
                                        <select class="form-control" id="inpReason"
                                                data-bind="options: $parents[1].hReasDRegTypeArray, optionsText: 'name',  value: Reason, optionsCaption: 'Выберите на основнии ...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td></td>
                            <td data-bind="with: MedDeathReg" class="text-left">
                                <div class="form-group has-error" data-bind="css:{'has-error' :formatPostWhoEstablished()==''}">
                                    <label class="control-label col-lg-3">Кто установил:</label>
                                    <label class="control-label col-lg-7" data-bind="text: formatPostWhoEstablished"></label>
                                    <div class="input-group col-lg-2">
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-primary"
                                                    data-bind="click: $parents[1].btDeathPostWhoEstablished, disable: ConfirmOriginal">
                                                <span class="glyphicon glyphicon-search"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: CertificateIssuedCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label class="control-label col-lg-4">Кто выдал:</label>
                                    <div class="col-lg-8">
                                        
                                        <span data-bind="text: formatFioRegFull"></span>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </table>
                </div>
                <div class="tab-pane fade" id="mothertab">
                    <table class="table table-bordered table-striped">
                        <tr><th class="col-lg-2">Место для шифра</th><th class="col-lg-10">Данные о матери</th></tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: MatherFullNameCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td data-bind="with: MedDeathReg" class="text-left">
                                <div class="form-group has-error" data-bind="css:{'has-error' :formatFioMother()==''}">
                                    <label class="control-label col-lg-3">ФИО матери:</label>
                                    <label class="control-label col-lg-7" data-bind="text: formatFioMother"></label>
                                    <div class="input-group col-lg-2">
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-primary"
                                                    data-bind="click: $parents[1].btSearchMotherDeathPerinatal, disable: ConfirmOriginal">
                                                <span class="glyphicon glyphicon-search"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DateBirthMotherCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div>
                                    <div class="form-group col-lg-6" data-bind="with: MedDeathReg">
                                        <label class="control-label col-lg-4">Дата рождения матери:</label>
                                        <span class="col-lg-8">
                                            <strong data-bind="text: formatBirhtDateMother"></strong>
                                        </span>
                                    </div>
                                    <div class="form-group col-lg-6">
                                        <label for="inpTerType" class="col-lg-4 control-label">Житель города/села:</label>
                                        <div class="col-md-8">
                                            <select class="form-control" id="inpTerType"
                                                    data-bind="options: $parents[1].hTerritoryUnitTypeArray, optionsText: 'name',  value: TerritoryUnitType, optionsCaption: 'Выберите житель города/села...', disable: ConfirmOriginal"></select>

                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: NationalityCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group col-lg-6" data-bind="with: MedDeathReg">
                                    <label class="control-label col-lg-4">Национальность:</label>
                                    <div class="col-lg-8">
                                        <label data-bind="text: formatNationalMother"></label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr><th colspan="2">Семейное положение:</th></tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: MaritalStatusCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <div class="col-lg-6">
                                    <div class="radio col-lg-6">
                                        <label>
                                            <input type="radio" name="optionsHouseholdPos" value="true"
                                                   data-bind="checked: HouseholdPosText">
                                            состоит в браке
                                        </label>
                                    </div>
                                    <div class="radio col-lg-6">
                                        <label>
                                            <input type="radio" name="optionsHouseholdPos" value="false"
                                                   data-bind="checked: HouseholdPosText">
                                            не состоит в браке
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label for="DateMarriage" class="control-label col-lg-6">Дата заключения брака:</label>
                                    <div class="col-lg-6">
                                        <input class="form-control" data-provide="datepicker" id="DateMarriage"
                                               data-bind="enable: HouseholdPos, datepicker: DateMarriage , event: { change: DateChangeForSetNull}">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="text-left" data-bind="visible:HouseholdPos">
                                <div class="form-group ">
                                    <div class="col-lg-10">
                                        <div class="form-group has-error" data-bind="css:{'has-error': formatHusbandPerson()==''}">
                                            <label class="control-label col-lg-3">Муж:</label>
                                            <label class="control-label col-lg-7" data-bind="text: formatHusbandPerson"></label>
                                            <div class="input-group col-lg-2">
                                                <span class="input-group-btn">
                                                    <button type="button" class="btn btn-primary"
                                                            data-bind="click: $parents[1].btSearchHusband, disable: ConfirmOriginal">
                                                        <span class="glyphicon glyphicon-search"></span>
                                                    </button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: PlaceResidenceMotherCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label class="control-label col-lg-2">Место жительства:</label>
                                    <div class="col-lg-10">
                                        <p data-bind="text: formatAddressMother"></p>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: MothersEducationCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!EducType.isValid()}">
                                    <label for="inpTerType" class="col-lg-4 control-label">Образование:</label>
                                    <div class="col-md-8">
                                        <select class="form-control" id="inpTerType"
                                                data-bind="options: $parents[1].dicEducationTypesArray, optionsText: 'name',  value: EducType, optionsCaption: 'Выберите образование...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: AffiliationMotherCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <div class="col-lg-4">
                                    <div class="form-group" data-bind="visible: IsStillborn()==false">
                                        <label for="inpIsDependent" class="control-label col-lg-10">На иждивении</label>
                                        <div class="col-lg-2">
                                            <label class="checkbox-inline">
                                                <input id="inpIsDependent" type="checkbox" data-bind="checked: IsDependent, disable: ConfirmOriginal" />
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-8">
                                    <h4 data-bind="visible: !IsDependent()">Место работы:</h4>
                                    <div class="form-group" data-bind="visible: IsDependent">
                                        <label class="control-label col-lg-6">На чьем иждивении:</label>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label class="control-label col-lg-7" data-bind="text: formatDependentOnSomeone"></label>
                                                <div class="input-group col-lg-2">
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-primary"
                                                                data-bind="click: $parents[1].btSearchDependentOnSomeone, disable: ConfirmOriginal">
                                                            <span class="glyphicon glyphicon-search"></span>
                                                        </button>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr data-bind="visible: !IsDependent()">
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: OfficeOrWorkCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label for="inpOfficeOrWork" class="col-lg-4 control-label">Должность (выполняемая работа):</label>
                                    <div class="col-md-8">
                                        <input id="inpOfficeOrWork" class="form-control" data-bind="value: OfficeOrWork" />
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: AccountPregnancyCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group" data-bind="css:{'has-error' :!PregnancyCount.isValid()}">
                                    <label for="inpNumberOfBer" class="control-label col-lg-8">Беременность по счету:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpNumberOfBer" class="form-control" data-bind="value: PregnancyCount, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: AccountGeneraCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group" data-bind="css:{'has-error' :!BirthCount.isValid()}">
                                    <label for="inpNumberOfBirth" class="control-label col-lg-8">Роды по счету:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpNumberOfBirth" class="form-control" data-bind="value: BirthCount, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="text-left">
                                <div class="form-group" data-bind="css:{'has-error' :!BornChildCount.isValid()}">
                                    <label for="inpNumberOfBabies" class="control-label col-lg-8">Родившийся ребенок по счету:</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpNumberOfBabies" class="form-control" data-bind="value: BornChildCount, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: PrevPregnancyEndCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <label>Предшествующие беременности закончились</label>
                                <div>
                                    <div class="col-lg-11">
                                        <table class="table table-bordered">
                                            <tbody class="scroll" data-bind="foreach: PrevPregnancyEnd">
                                                <tr data-bind="click: $parents[1].selectedPrevPregnancyEnd, css: { 'active': $parents[1].selectedPrevPregnancyEnd() === $data }">
                                                    <td>
                                                        <b data-bind="text: formatPrevPregnancyEnd"></b>
                                                    </td>
                                                    <td>
                                                        <span data-bind="text: Amount"></span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col-lg-1">
                                        <div class="btn-group-vertical">
                                            <button type="button" class="btn btn-primary navbar-btn"
                                                    data-bind="click: $parents[1].showAddPrevPregnancyEnd,disable: ConfirmOriginal"
                                                    title="Добавить предыдущая беременность закончилась">
                                                <i class="glyphicon glyphicon-plus"></i>
                                            </button>
                                            <button type="button" class="btn btn-success navbar-btn"
                                                    data-bind="click: $parents[1].showEditPrevPregnancyEnd, enable: $parents[1].selectedPrevPregnancyEnd() && !ConfirmOriginal()"
                                                    title="Редактировать предыдущая беременность закончилась">
                                                <i class="glyphicon glyphicon-pencil"></i>
                                            </button>
                                            <button type="button" class="btn btn-danger navbar-btn"
                                                    data-bind="click: $parents[1].showRemovePrevPregnancyEnd, enable: $parents[1].selectedPrevPregnancyEnd() && !ConfirmOriginal()"
                                                    title="Удалить предыдущая беременность закончилась">
                                                <i class="glyphicon glyphicon-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label for="inpNumberOfBabies" class="control-label col-lg-8">Предшествующие беременности закончились</label>
                                    <div class="col-lg-4">
                                        <select class="form-control" id="inpHPrevPregnancyEndId"
                                                data-bind="options: $parent.hPrevPregnancyEndAllArray, optionsText: 'name',  value: HPrevPregnancyEnd, optionsCaption: 'Выберите как закончилась Последняя из предшедствующих беременность...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DateLastMenstrual, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <div class="form-group">
                                    <label for="DateLastMenstrual" class="control-label col-lg-4">Дата последней менструации:</label>
                                    <div class="col-lg-8">
                                        <input class="form-control" data-provide="datepicker" id="DateLastMenstrual"
                                               data-bind="datepicker: DateLastMenstrual, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <div class="form-group" data-bind="css:{'has-error' :!PeriodBornFrom.isValid() || !PeriodBornTo.isValid()}">
                                    <label class="control-label col-lg-4">Продолжительность настоящей беременности с:</label>
                                    <div class="col-lg-8">
                                        <div class="col-lg-1"><b>с:</b></div>
                                        <div class="col-lg-3">
                                            <input type="text" class="form-control"
                                                   data-bind="value: PeriodBornFrom, disable: $parent.ConfirmOriginal">
                                        </div>
                                        <div class="col-lg-1"><b>по:</b></div>
                                        <div class="col-lg-3">
                                            <input type="text" class="form-control col-lg-4"
                                                   data-bind="value: PeriodBornTo, disable: $parent.ConfirmOriginal">
                                        </div>
                                        <div class="col-lg-4"><b>недель</b></div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DeliveriesAcceptedCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group">
                                    <label for="inpDeliveriesAccepted" class="control-label col-lg-8">Роды приняли:</label>
                                    <div class="col-lg-4">
                                        <select class="form-control" id="inpDeliveriesAccepted"
                                                data-bind="options: $parent.hDeliveriesAcceptedCacheArray, optionsText: 'name',  value: DeliveriesAccepted, optionsCaption: 'Выберите кто принимал роды...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: GestationalFirstCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!GestationalAge.isValid()}">
                                    <label for="inpGestationalAge" class="control-label col-lg-8">Срок беременности при первой явки к врачу-акушеру:</label>
                                    <div class="col-lg-4">
                                        <select class="form-control" id="inpGestationalAge"
                                                data-bind="options: $parent.hGestationalAgeCacheArray, optionsText: 'name',  value: GestationalAge, optionsCaption: 'Выберите срок беременности при первой явке к врачу-акушеру...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: WhereRegisteredCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td class="text-left">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!InAnyMedicalRecord.isValid()}">
                                    <label for="inpInAnyMedicalRecord" class="control-label col-lg-8">Где состояла на учете:</label>
                                    <div class="col-lg-4">
                                        <select class="form-control" id="inpInAnyMedicalRecord"
                                                data-bind="options: $parent.hInAnyMedicalRecordCacheArray, optionsText: 'name',  value: InAnyMedicalRecord, optionsCaption: 'Выберите где состояла на учете...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="text-left">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!VisitsCount.isValid()}">
                                    <label for="inpVisitsCount" class="control-label col-lg-8">Число посещений врача (фельдшера, акушерки):</label>
                                    <div class="col-lg-4">
                                        <input type="text" id="inpVisitsCount" class="form-control" data-bind="value: VisitsCount, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="tab-pane fade" id="sickstab">
                    <table class="table table-bordered table-striped">
                        <tr><th class="col-lg-2">Место для шифра</th><th class="col-lg-10">Заболевания и осложнения</th></tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DiseasesBeforeCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <label>Заболевания и осложнения до наступления настоящей беременности</label>
                                <div id="deathcrit" data-bind="template: { name: 'death-disandcomp', data: DisAndCompBeforeModel}, disable: ConfirmOriginal"></div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: DiseasesDuringCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <label>Заболевания и осложнения в течение настоящей беременности</label>
                                <div id="deathcrit" data-bind="template: { name: 'death-disandcomp', data: DisAndCompDuringModel}, disable: ConfirmOriginal"></div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: ComplicatedDeliveriesCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <label>Осложнение родов</label>
                                <div id="deathcrit" data-bind="template: { name: 'death-disandcomp', data: ComplicatedDeliveriesModel}"></div>
                            </td>
                        </tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                <input type="text" class="form-control"
                                       data-bind="value: OperationsBenefitsCode, disable: $parent.ConfirmOriginal">
                            </td>
                            <td>
                                <label>Операции и оперативные пособия, предпринятые с целью родоразрешения</label>
                                <div id="deathcrit" data-bind="template: { name: 'death-disandcomp', data: OperationalBenefitsModel}"></div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="tab-pane fade" id="causepertab">
                    <table class="table table-bordered table-striped">
                        <tr><th class="col-lg-2">Место для шифра</th><th class="col-lg-10">Причины перинатальной смерти</th></tr>
                        <tr>
                            <td data-bind="with: PDeathRegCode">
                                
                            </td>
                            <td>
                                <div class="panel panel-info">
                                    <div class="panel-heading">
                                        <label>Основное заболевание или состояние ребенка (плода), явившееся причиной смерти</label>
                                    </div>
                                    <div class="panel-body has-error" data-bind="css:{'has-error' :selectMkbModelMainCod().formatSelected()==''}">
                                        <div class=" col-lg-8" data-bind="template: { name: 'select-mkb-template', data: selectMkbModelMainCod}, disable: ConfirmOriginal"></div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label for="DtBegMainCod" class="control-label col-lg-6">с:</label>
                                                <div class="col-lg-6">
                                                    <input class="form-control" data-provide="datepicker" id="DtBegMainCod"
                                                           data-bind="datepicker: DtBegMainCod, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="DtEndMainCod" class="control-label col-lg-6">по:</label>
                                                <div class="col-lg-6">
                                                    <input class="form-control" data-provide="datepicker" id="DtEndMainCod"
                                                           data-bind="datepicker: DtEndMainCod, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                
                            </td>
                            <td>
                                <div class="panel panel-info">
                                    <div class="panel-heading">
                                        <label>Основное заболевание или состояние матери, обусловившее причину смерти ребенка (плода)</label>
                                    </div>
                                    <div class="panel-body">
                                        <div class="col-lg-8" data-bind="template: { name: 'select-mkb-template', data: selectMkbModelMomSickCod}, disable: ConfirmOriginal"></div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label for="DtBegMomSickCod" class="control-label col-lg-6">с::</label>
                                                <div class="col-lg-6">
                                                    <input class="form-control" data-provide="datepicker" id="DtBegMomSickCod"
                                                           data-bind="datepicker: DtBegMomSickCod, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="DtEndMomSickCod" class="control-label col-lg-6">по:</label>
                                                <div class="col-lg-6">
                                                    <input class="form-control" data-provide="datepicker" id="DtEndMomSickCod"
                                                           data-bind="datepicker: DtEndMomSickCod, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <label>Другие заболевания или состояния у ребенка (плода):</label>
                                <div id="deathcrit" data-bind="template: { name: 'death-otherdiseases', data: deathRegOtherDiseasesChild}"></div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <label>Другие заболевания или состояния матери, способствующие смерти ребенка (плода):</label>
                                <div id="deathcrit" data-bind="template: { name: 'death-otherdiseases', data: deathRegOtherDiseasesMother}"></div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <label>Другие сопутствовавшие состояния:</label>
                                <div id="deathcrit" data-bind="template: { name: 'death-otherdiseases', data: deathRegOtherAccompaniedState}"></div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="tab-pane fade" id="factorspertab">
                    <div data-bind="template: { name: 'factorBirht-template', data: $data }"></div>
                </div>
                <div class="tab-pane fade" id="form2009tab" data-bind="with: MedDeathReg">
                    <div class="row">
                        <div class="form-group col-lg-6">
                            <label for="inpNumKart" class="control-label col-lg-6">Номер карты:</label>
                            <div class="col-lg-6">
                                <input class="form-control" id="inpNumKart" data-bind="value: NumberDoc, disable: ConfirmOriginal" />
                            </div>
                        </div>
                        
                        <div class="form-group col-lg-6">
                            <label for="inpRmn" class="control-label col-lg-6">РМН:</label>
                            <div class="col-lg-6">
                                <input class="form-control" id="inpRmn" data-bind="value: RMN, disable: ConfirmOriginal" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="inpLocation" class="col-lg-4 control-label">Место рождения:</label>
                            <div class="col-md-8">
                                <select class="form-control" id="inpLocation"
                                        data-bind="options: locationsArray, optionsText: 'name',  value: BirthLocation , optionsCaption: 'Выберите место рождения...'"></select>
                            </div>
                        </div>
                        <div class="form-group col-lg-8">
                            <label for="inpLevelMODeath" class="control-label col-lg-6">Уровень регионализации МО, где родился:</label>
                            <div class="col-lg-6">
                                <select class="form-control" id="inpLevelMODeath"
                                        data-bind="options: LevelsMoArray, optionsText: 'name', optionsValue: 'id', value: LevelMOBirth, optionsCaption: 'Выберите уровень регионализации...', disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="inpDeathDay" class="control-label col-lg-10">Смерть наступила до суток</label>
                            <div class="checkbox col-lg-2">
                                <input id="inpDeathDay" type="checkbox" data-bind="checked: DeathDay, disable: ConfirmOriginal" />
                            </div>
                        </div>
                        <div class="form-group col-lg-8">
                            <label for="inpLevelMODeath" class="control-label col-lg-6">Уровень регионализации МО, где умер:</label>
                            <div class="col-lg-6">
                                <select class="form-control" id="inpLevelMODeath"
                                        data-bind="options: LevelsMoArray, optionsText: 'name', optionsValue: 'id', value: LevelMODeath, optionsCaption: 'Выберите уровень регионализации...', disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <label class="control-label col-lg-2">Организация прикрепления:</label>
                            <div class="col-lg-10 active" data-bind="text: formatAttachMO"></div>
                        </div>
                    </div>
                    <div class="panel panel-default has-error" data-bind="css:{'has-error' :formatDeathMO()=='' && Loc() != undefined && Loc().id == 2}">
                        <div class="panel-body">
                            <div class="form-group">
                                <label for="inpOrgAttachs" class="control-label col-lg-2">Организация, где наступила смерть:</label>
                                <div class="input-group col-lg-10">
                                    <span id="inpOrgAttachs" class="control-label col-lg-8 active" data-bind="text: formatDeathMO"></span>
                                    <span class="input-group-btn col-lg-4">
                                        <button type="button" class="btn btn-primary" data-bind="click: $parents[1].btSearchOrgDeath, disable: ConfirmOriginal">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="checkbox" data-bind="with: MedDeathReg">
                <label>
                    <input id="inpIsConfirm" type="checkbox" data-bind="checked: Confirm, disable: ConfirmOriginal" />
                    <font data-bind="style: { color: Confirm() ? 'green' : 'red' }">
                        <strong>Подтверждаю, что все данные введены и проверены</strong><br>
                        <span class="danger">Для взаимодействия с внешними системами свидетельство должно быть подтверждено *</span>
                    </font>
                </label>
            </div>
        </div>
    </form>
</script>
<script type="text/html" id="death-otherdiseases">
    <div>
        <div class="col-lg-11">
            <table class="table table-bordered">
                <tbody class="scroll" data-bind="foreach: list">
                    <tr data-bind="click: $parent.selectedOtherDiseases, css: { 'active': $parent.selectedOtherDiseases() === $data }">
                        <td>
                            <b data-bind="text: formatSick"></b>
                        </td>
                        <td data-bind="text: formatComent"></td>
                        <td data-bind="text: formatDtBeg"></td>
                        <td data-bind="text: formatDtEnd"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-lg-1">
            <div class="btn-group-vertical">
                <button type="button" class="btn btn-primary navbar-btn"
                        data-bind="click: showAddOtherDiseases, disable: ConfirmOriginal"
                        title="Добавить предыдущая беременность закончилась">
                    <i class="glyphicon glyphicon-plus"></i>
                </button>
                <button type="button" class="btn btn-success navbar-btn"
                        data-bind="click: showEditOtherDiseases, enable: selectedOtherDiseases() && !ConfirmOriginal()"
                        title="Редактировать предыдущая беременность закончилась">
                    <i class="glyphicon glyphicon-pencil"></i>
                </button>
                <button type="button" class="btn btn-danger navbar-btn"
                        data-bind="click: showRemoveOtherDiseases, enable: selectedOtherDiseases() && !ConfirmOriginal()"
                        title="Удалить предыдущая беременность закончилась">
                    <i class="glyphicon glyphicon-minus"></i>
                </button>
            </div>
        </div>
    </div>
</script>
<script type="text/html" id="death-disandcomp">
    <div>
        <div class="col-lg-11">
            <table class="table table-bordered">
                <tbody class="scroll" data-bind="foreach: list">
                    <tr data-bind="click: $parent.selectedDisAndComp, css: { 'active': $parent.selectedDisAndComp() === $data }">
                        <td>
                            <b data-bind="text: formatSick"></b>
                        </td>
                        <td data-bind="text: formatComent"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-lg-1">
            <div class="btn-group-vertical">
                <button type="button" class="btn btn-primary navbar-btn"
                        data-bind="click: showAddDisAndComp, disable: ConfirmOriginal"
                        title="Добавить предыдущая беременность закончилась">
                    <i class="glyphicon glyphicon-plus"></i>
                </button>
                <button type="button" class="btn btn-success navbar-btn"
                        data-bind="click: showEditDisAndComp, enable: selectedDisAndComp() && !ConfirmOriginal()"
                        title="Редактировать предыдущая беременность закончилась">
                    <i class="glyphicon glyphicon-pencil"></i>
                </button>
                <button type="button" class="btn btn-danger navbar-btn"
                        data-bind="click: showRemoveDisAndComp, enable: selectedDisAndComp() && !ConfirmOriginal()"
                        title="Удалить предыдущая беременность закончилась">
                    <i class="glyphicon glyphicon-minus"></i>
                </button>
            </div>
        </div>
    </div>
</script>
<script type="text/html" id="death-form-template">
    <form class="form-horizontal" role="form" data-bind="with: selectedDeath">
        <div>
            <ul class="text-danger" data-bind="foreach: errors">
                <li data-bind="text: $data"></li>
            </ul>
        </div>
        <div class="panel-group" id="accordionDeath">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordionDeath" href="#generalDeathInfoPanel">
                            <span>Основная информация</span>
                        </a>
                    </h4>
                </div>
                
                <div id="generalDeathInfoPanel" class="panel-collapse collapse in" data-bind="with: MedDeathReg">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="inpNum" class="control-label col-lg-4">Номер:</label>
                                    <div class="col-lg-8">
                                        <input type="text" class=" form-control" id="inpNum"
                                               data-bind="value: Num, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :formatFioFL()==''}">
                                    <label class="control-label col-lg-3">Умерший:</label>
                                    <label class="control-label col-lg-7" data-bind="text: formatFioFL"></label>
                                    <div class=" input-group col-lg-2">
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-primary"
                                                    data-bind="click: $parents[1].btSearchDeathFL, disable: ConfirmOriginal">
                                                <span class="glyphicon glyphicon-search"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :Type()==undefined}">
                                    <label for="inpTypeSv" class="col-lg-4 control-label">Тип свидетельства:</label>
                                    <div class="col-md-8">
                                        <select class="form-control" id="inpTypeSv"
                                                data-bind="options: $parents[1].hDeathRegTypeArray, optionsText: 'name',  value: Type, optionsCaption: 'Выберите тип медицинского свидетельства о смерти...', disable: ConfirmOriginal"></select>

                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-lg-5">
                                        <div class="form-group">
                                            <label class="control-label col-lg-4">Дата выдачи:</label>
                                            <div class="col-lg-8">
                                                <strong data-bind="text: $parent.formatDtVd"></strong>
                                                
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-7">
                                        <div class="form-group">
                                            <label for="DtDeath" class="control-label col-lg-4">Дата смерти:</label>
                                            <div class="col-lg-8">
                                                <input size="16" data-provide="datetimepicker" type="text" class="form-control" id="DtDeath"
                                                       data-bind="datetimepicker:{datetime: DtDeath}, disable: ConfirmOriginal">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" data-bind="css:{'has-error' :$parent.TerritoryUnitType()==undefined}">
                                    <label for="inpTerritoryUnitType" class="control-label col-lg-4">Житель города/села:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpTerritoryUnitType"
                                                data-bind="options: $parents[1].hTerritoryUnitTypeArray, optionsText: 'name',  value: $parent.TerritoryUnitType, optionsCaption: 'Выберите житель города/села......', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inpPreviousVcc" class="control-label col-lg-4">Предыдущее ВСС:</label>
                                    <div class="col-lg-8">
                                        <span class="form-control" id="inpPreviousVcc"
                                              data-bind="text: formatPreviousVcc"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <label for="inpNum" class="control-label col-lg-4">Выдал свидетельство:</label>
                                <div class="col-lg-8">
                                    
                                    <span data-bind="text: formatFioRegFull"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group" data-bind="visible: isWoman">
                                    <label for="PrevPregnancyDate" class="control-label col-lg-4">Дата последней беременности:</label>
                                    <div class="col-lg-8">
                                        <input size="16" data-provide="datetimepicker" type="text" class="form-control" id="PrevPregnancyDate"
                                               data-bind="datetimepicker:{datetime: $parent.PrevPregnancyDate}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group" data-bind="css:{'has-error' :Loc()==undefined}">
                                    <label for="inpLoc" class="control-label col-lg-4">Смерть последовала:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpLoc"
                                                data-bind="options: $parents[1].locationForDeathNoPerinatal, optionsText: 'name',  value: Loc, optionsCaption: 'Выберите где последовала смерть...', disable: ConfirmOriginal, event: { change: ResetPlaceDeath}"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6" data-bind="visible: isWoman">
                                <div class="form-group">
                                    <label for="inpNum" class="control-label col-lg-4">Вид материнской смерти:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpLoc"
                                                data-bind="options: $parents[1].hWomanDeathTypeArray, optionsText: 'name',  value: $parent.MomDeath, optionsCaption: 'Выберите вид материнской смертности...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inpNum" class="control-label col-lg-4">Исход последней беременности:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" id="inpLoc"
                                                data-bind="options: $parents[1].hPrevPregnancyEndArray, optionsText: 'name',  value: $parent.PrevPregnancyEnd, optionsCaption: 'Выберите исход последней беременности...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-left has-error" data-bind="css:{'has-error' : (!isOtherPlaceDeath() && formatAdressDeath() == '') || (isOtherPlaceDeath() && (AddressText() == undefined || AddressText() == ''))}">
                            <label for="inpAddr1" class="control-label col-lg-2 ">Место смерти:</label>
                            <div class="form-group col-lg-8" data-bind="visible: isOtherPlaceDeath">
                                <input type="text" class="form-control" data-bind="value: AddressText" />
                            </div>

                            <div class="form-group col-lg-8" data-bind="visible: !isOtherPlaceDeath()">
                                <span id="inpAddr1" class="control-label col-lg-10" data-bind="text: formatAdressDeath"></span>
                                <div class="col-lg-1">
                                    <button type="submit" class="btn btn-primary" data-bind="click: $parents[1].btDeathAddress, disable: ConfirmOriginal"
                                            data-toggle="tooltip" data-placement="top" title="Поиск">
                                        <span class="glyphicon glyphicon glyphicon-search"></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :TPersonal()==undefined}">
                                    <label for="inpPersDRegType" class="col-lg-4 control-label">Причина смерти установлена:</label>
                                    <div class="col-md-8">
                                        <select class="form-control" id="inpPersDRegType"
                                                data-bind="options: $parents[1].hPersDRegTypesArray, optionsText: 'name',  value: TPersonal, optionsCaption: 'Выберите кем установлена смерть...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                                <div class="form-group has-error" data-bind="css:{'has-error' :formatPostWhoEstablished()==''}">
                                    <label class="control-label col-lg-3">Кто установил:</label>
                                    <label class="control-label col-lg-7" data-bind="text: formatPostWhoEstablished"></label>
                                    <div class="input-group col-lg-2">
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-primary"
                                                    data-bind="click: $parents[1].btDeathPostWhoEstablished, disable: ConfirmOriginal">
                                                <span class="glyphicon glyphicon-search"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :Reason()==undefined}">
                                    <label for="inpReason" class="col-lg-4 control-label">На основании:</label>
                                    <div class="col-md-8">
                                        <select class="form-control" id="inpReason"
                                                data-bind="options: $parents[1].hReasDRegTypeArray, optionsText: 'name',  value: Reason, optionsCaption: 'Выберите на основании чего установлена причина смерти...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inpTypeDeath" class="col-lg-4 control-label">Причина смерти:</label>
                                    <div class="col-md-8">
                                        <select class="form-control" id="inpTypeDeath"
                                                data-bind="options: $parents[1].hDeathTypesArray, optionsText: 'name',  value: $parent.Type, optionsCaption: 'Выберите причину смерти...', disable: ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :$parent.TraumaType()==undefined && $parent.enableTrauma() && !ConfirmOriginal()}">
                                    <label for="inpTraumaType" class="col-lg-4 control-label">Вид травмы:</label>
                                    <div class="col-md-8">
                                        <select class="form-control" id="inpTraumaType"
                                                data-bind="options: $parent.TraumaTypeArray, optionsText: 'name',  value: $parent.TraumaType, optionsCaption: 'Выберите вид травмы...',enable: $parent.enableTrauma() && !ConfirmOriginal()"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :$parent.DtAccident()!='' && $parent.enableTrauma() && !ConfirmOriginal()}">
                                    <label for="DtAccident" class="control-label col-lg-6">Дата несчастного случая:</label>
                                    <div class="col-lg-6">
                                        <input class="form-control" data-provide="datepicker" id="DtAccident"
                                               data-bind="datepicker: $parent.DtAccident, event: { change: DateChangeForSetNull}, enable: $parent.enableTrauma() && !ConfirmOriginal()">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group has-error" data-bind="css:{'has-error' :!$parent.AccDescr.isValid() && $parent.enableTrauma() && !ConfirmOriginal()}">
                                    <label for="textareaTrauma" class="control-label col-lg-4">Описание травмы:</label>
                                    <div class="span1 col-lg-8">
                                        <textarea class="form-control span1" id="textareaTrauma" data-bind="value: $parent.AccDescr, enable: $parent.enableTrauma() && !ConfirmOriginal()"
                                                  rows="4" cols="200" placeholder="Введите описание травмы..."></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>




                        <div class="panel panel-default" data-bind="visible: isChildUpToOneYear">
                            <div class="panel-heading">Дети, умершие до года</div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="form-group col-lg-6">
                                        <label for="inpCountMonthsLive" class="control-label col-lg-6">Число месяцев жизни:</label>
                                        <div class="col-lg-6">
                                            
                                            <input type="text" id="inpCountMonthsLive" class="form-control" data-bind="value: $parent.CLMonth" readonly="readonly" />
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6 has-error" data-bind="css:{'has-error': MotherChildCount()==null||MotherChildCount()==''}">
                                        <label for="inpCountChild" class="control-label col-lg-6">Который по счёту ребенок:</label>
                                        <div class="col-lg-6">
                                            <input type="text" id="inpCountChild" class="form-control" data-bind="value: MotherChildCount, disable: ConfirmOriginal" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-6">
                                        <label for="inpCountDaysLive" class="control-label col-lg-6">Число дней жизни:</label>
                                        <div class="col-lg-6">
                                            
                                            <input type="text" id="inpCountDaysLive" class="form-control" data-bind="value: $parent.CLDays" readonly="readonly" />
                                        </div>
                                    </div>
                                    <div class="form-group has-error col-lg-6" data-bind="css:{'has-error': !$parent.Mature.isValid()}">
                                        <label for="inpMatureDeath" class="control-label col-lg-6">Доношенность:</label>
                                        <div class="col-lg-6">
                                            <select class="form-control" id="inpMatureDeath"
                                                    data-bind="options: $parents[1].matureArray, optionsText: 'name',  value: $parent.Mature, optionsCaption: 'Выберите доношенность...', disable: ConfirmOriginal"></select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-6 has-error" data-bind="css:{'has-error': BirthWeight()==null||BirthWeight()==''}">
                                        <label for="inpMass" class="control-label col-lg-6">Вес при рождении:</label>
                                        <div class="col-lg-6">
                                            <input type="text" id="inpMass" class="form-control" data-bind="value: BirthWeight, disable: ConfirmOriginal" />
                                            
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6 has-error" data-bind="css:{'has-error': BirthGrowth()==null||BirthGrowth()==''}">
                                        <label for="inpGrowth" class="control-label col-lg-6">Рост при рождении, см.:</label>
                                        <div class="col-lg-6">
                                            <input type="text" id="inpGrowth" class="form-control" data-bind="value: BirthGrowth, disable: ConfirmOriginal" />
                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-6">
                                        <button type="button" class="btn btn-primary col-lg-1" data-toggle="tooltip" title="Изменить данные о матери"
                                                data-bind="click: $parents[1].btSearchMotherDeath, disable: ConfirmOriginal">
                                            <span class="glyphicon glyphicon-edit"></span>
                                        </button>
                                        <label class="control-label col-lg-3">ФИО матери:</label>
                                        <label class="control-label col-lg-7" data-bind="text: formatFioMother"></label>
                                        
                                    </div>
                                    <div class="form-group col-lg-6">
                                        <label for="inpMotherAge" class="control-label col-lg-6">Возраст матери:</label>
                                        <div class="col-lg-6">
                                            <input type="text" id="inpMotherAge" class="form-control" data-bind="value: $parent.MotherAge" readonly="readonly" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-6">
                                        <label for="inpBirthLocation" class="control-label col-lg-6">Место родоразрешения/аборта:</label>
                                        <div class="col-lg-6">
                                            <select id="inpBirthLocation" class="form-control"
                                                    data-bind="options: $parents[1].hBirthLocationArray, optionsText: 'name',  value: BirthLocation, optionsCaption: 'Выберите место родооазрешения/аборта...',disable: ConfirmOriginal"></select>
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6" data-bind="visible: $parent.isMustBirthAddressText()">
                                        <label for="inpBirthAddressText" class="control-label col-lg-4">Место родов:</label>
                                        <div class="col-lg-8">
                                            <input type="text" id="inpBirthAddressText" class="form-control" data-bind="value: $parent.BirthAddressText, disable: ConfirmOriginal" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>




                    </div>
                </div>
            </div>
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordionDeath" href="#pricDeathInfoPanel">
                            <span>Причина смерти:</span>
                        </a>
                    </h4>
                </div>
                <div id="pricDeathInfoPanel" class="panel-collapse collapse">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <label>Болезнь или состояние, непосредственно приведшее к смерти</label>
                        </div>
                        <div class="panel-body">
                            <div class="col-xs-7" data-bind="template: { name: 'select-mkb-template', data: selectMkbModelSickDiseaseOrCondition}"></div>
                            <div class="col-xs-5">
                                <div class="form-group col-xs-6">
                                    <label for="DtBegDiseaseOrCondition" class="control-label col-xs-3">с:</label>
                                    <div class="col-xs-9">
                                        <input class="form-control" data-provide="datepicker" id="DtBegDiseaseOrCondition"
                                               data-bind="datepicker: DtBegDiseaseOrCondition, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group col-xs-6">
                                    <label for="DtEndDiseaseOrCondition" class="control-label col-xs-3">по:</label>
                                    <div class="col-xs-9">
                                        <input class="form-control" data-provide="datepicker" id="DtEndDiseaseOrCondition"
                                               data-bind="datepicker: DtEndDiseaseOrCondition, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <label>Патологические состояния, приведшие к возникновению непосредственной причины</label>
                        </div>
                        <div class="panel-body">
                            <div class="col-xs-7" data-bind="template: { name: 'select-mkb-template', data: selectMkbModelSickPathologicalConditions}"></div>
                            <div class="col-xs-5">
                                <div class="form-group col-xs-6">
                                    <label for="DtBegPathologicalConditions" class="control-label col-xs-3">с:</label>
                                    <div class="col-xs-9">
                                        <input class="form-control" data-provide="datepicker" id="DtBegPathologicalConditions"
                                               data-bind="datepicker: DtBegPathologicalConditions, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group col-xs-6">
                                    <label for="DtEndPathologicalConditions" class="control-label col-xs-3">по:</label>
                                    <div class="col-xs-9">
                                        <input class="form-control" data-provide="datepicker" id="DtEndPathologicalConditions"
                                               data-bind="datepicker: DtEndPathologicalConditions, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default has-error" data-bind="css:{'has-error' :selectMkbModelMainCod().formatSelected()==''}">
                        <div class="panel-heading">
                            <label>Основная причина смерти</label>
                        </div>
                        <div class="panel-body">
                            <div class="col-xs-7" data-bind="template: { name: 'select-mkb-template', data: selectMkbModelMainCod}"></div>
                            <div class="col-xs-5">
                                <div class="form-group has-error col-xs-6">
                                    <label for="DtBeg1c" class="control-label col-xs-3">с:</label>
                                    <div class="col-xs-9">
                                        <input class="form-control" data-provide="datepicker" id="DtBeg1c"
                                               data-bind="datepicker: DtBeg1c, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group col-xs-6">
                                    
                                    <strong class="control-label col-xs-3">по:</strong>
                                    <div class="col-xs-9">
                                        <input class="form-control" data-provide="datepicker" id="DtEnd1c"
                                               data-bind="datepicker: DtEnd1c, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <label>Внешние причины при травмах и отравлениях</label>
                        </div>
                        <div class="panel-body">
                            <div class="col-xs-7" data-bind="template: { name: 'select-mkb-template', data: selectMkbModelExtCod}"></div>
                            <div class="col-xs-5">
                                <div class="form-group col-xs-6">
                                    <label for="DtBeg1d" class="control-label col-xs-3">с:</label>
                                    <div class="col-xs-9">
                                        <input class="form-control" data-provide="datepicker" id="DtBeg1d"
                                               data-bind="datepicker: DtBeg1d, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group col-xs-6">
                                    <label for="DtEnd1d" class="control-label col-xs-3">по:</label>
                                    <div class="col-xs-9">
                                        <input class="form-control" data-provide="datepicker" id="DtEnd1d"
                                               data-bind="datepicker: DtEnd1d, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <label>Прочие важные состояния способствующие смерти</label>
                        </div>
                        <div class="panel-body">
                            <div class="col-lg-11">
                                <table class="table table-bordered">
                                    <tbody class="scroll" data-bind="foreach: deathRegOtherImpConditions">
                                        <tr data-bind="click: $parent.selectedDeathRegOtherImpCondition, css: { 'active': $parent.selectedDeathRegOtherImpCondition()===$data }">
                                            <td>
                                                <strong data-bind="text: formatSickCaсhe"></strong>&nbsp;
                                                <span data-bind="text: formatDtBegOther"></span>&nbsp;<span data-bind="text: formatDtEndOther"></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-lg-1">
                                <button type="button" class="btn btn-default btn-sm" data-bind="click: addOtherImpCondition, disable: ConfirmOriginal">
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button>
                                <button type="button" class="btn btn-default btn-sm" data-bind="click: editOtherImpCondition, disable: ConfirmOriginal && !selectedDeathRegOtherImpCondition()">
                                    <span class="glyphicon glyphicon-pencil"></span>
                                </button>
                                <button type="button" class="btn btn-default btn-sm" data-bind="click: removeOtherImpCondition, disable: ConfirmOriginal && !selectedDeathRegOtherImpCondition()">
                                    <span class="glyphicon glyphicon-minus"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="panel panel-info" data-bind="visible: MedDeathReg.isChildUpTo5Years()">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordionDeath" href="#form2009DeathInfoBabiesPanel">
                            <span>Регистрация учетных данных по форме 2009у</span>
                        </a>
                    </h4>
                </div>
                <div id="form2009DeathInfoBabiesPanel" class="panel-collapse collapse" data-bind="with: MedDeathReg">
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="inpNumKart" class="control-label col-lg-6">Номер карты:</label>
                            <div class="col-lg-6">
                                <input class="form-control" id="inpNumKart" data-bind="value: NumberDoc, disable: ConfirmOriginal" />
                            </div>
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="inpRmn" class="control-label col-lg-6">РМН:</label>
                            <div class="col-lg-6">
                                <input class="form-control" id="inpRmn" data-bind="value: RMN, disable: ConfirmOriginal" />
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <label for="inpLevelMOBirth" class="control-label col-lg-6">Уровень регионализации МО, где умер:</label>
                        <div class="col-lg-6">
                            <select class="form-control" id="inpLevelMOBirth"
                                    data-bind="options: LevelsMoArray, optionsText: 'name', optionsValue: 'id', value: LevelMODeath, optionsCaption: 'Выберите уровень регионализации...', disable: ConfirmOriginal"></select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-6">
                            <label for="inpWrittenOut" class="control-label col-lg-8">Выписан на участок по месту жительства</label>
                            <div class="col-lg-4">
                                <div class="checkbox">
                                    <label>
                                        <input id="inpWrittenOut" type="checkbox" data-bind="checked: WrittenOut, disable: ConfirmOriginal">
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group  col-lg-6">
                            <label for="dateVip" class="control-label col-lg-6">Дата выписки:</label>
                            <div class="col-lg-6">
                                <input class="form-control" data-provide="datepicker" id="dateVip"
                                       data-bind="datepicker: WrittenOutDate, event: { change: DateChangeForSetNull}, enable: WrittenOut() && !ConfirmOriginal()">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-6">
                            <label for="inpFlAddressString" class="control-label col-lg-4">Адрес проживания:</label>
                            <div class="input-group col-lg-8">
                                <textarea id="inpFlAddressString" class="control-label col-lg-8" data-bind="text: FlAddressString" readonly="readonly" cols="4"></textarea>
                                <span class="input-group-btn col-lg-4">
                                    <button type="submit" class="btn btn-primary" data-bind="click: $parents[1].btSelectFlAddress2009, disable: ConfirmOriginal"
                                            data-toggle="tooltip" data-placement="top" title="Выбрать новое место проживания">
                                        <span class="glyphicon glyphicon-search"></span>
                                    </button>
                                    <button type="button" class="btn btn-warning" data-bind="click: $parents[1].btRevertFlAddress2009, disable: ConfirmOriginal"
                                            data-toggle="tooltip" data-placement="top" title="Вернуть место проживания">
                                        <span class="glyphicon glyphicon-remove-sign"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="form-group col-lg-6">
                            <label for="inpOrgAttachs" class="control-label col-lg-4">Организация прикрепления:</label>
                            <div class="input-group col-lg-8">
                                <textarea id="inpOrgAttachs" class="control-label col-lg-8" data-bind="text: formatAttachMO" cols="4" readonly="readonly"></textarea>
                                
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-6">
                            <label for="inpBirthLocation" class="control-label col-lg-6">Место родоразрешения/аборта:</label>
                            <div class="col-lg-6">
                                <select id="inpBirthLocation" class="form-control"
                                        data-bind="options: $parents[1].hBirthLocationArray, optionsText: 'name',  value: BirthLocation, optionsCaption: 'Выберите место родооазрешения/аборта...',disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                        <div class="form-group col-lg-6">
                            <label for="inpLevelMOBirth" class="control-label col-lg-6">Уровень регионализации МО, где родился:</label>
                            <div class="col-lg-6">
                                <select class="form-control" id="inpLevelMOBirth"
                                        data-bind="options: LevelsMoArray, optionsText: 'name', optionsValue: 'id', value: LevelMOBirth, optionsCaption: 'Выберите уровень регионализации...', disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-3">
                            <label for="inpGrowth" class="control-label col-lg-8">Рост при рождении, см.:</label>
                            <div class="col-lg-4">
                                <input type="text" id="inpGrowth" class="form-control" data-bind="value: BirthGrowth, disable: ConfirmOriginal" />
                                
                            </div>
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="inpMass" class="control-label col-lg-8">Вес при рождении:</label>
                            <div class="col-lg-4">
                                <input type="text" id="inpMass" class="form-control" data-bind="value: BirthWeight, disable: ConfirmOriginal" />
                                
                            </div>
                        </div>
                        <div class="form-group col-lg-6">
                            <label for="inpBirthPeriodBorn" class="control-label col-lg-6">Родился при сроке берем. (недели):</label>
                            <div class="col-lg-6">
                                <input type="text" id="inpBirthPeriodBorn" class="form-control" data-bind="value: BirthPeriodBorn, disable: ConfirmOriginal" />
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default" data-bind="with: motherPerson">
                        <div class="panel-heading">
                            <div class="row">
                                <p><strong>Данные о матери</strong></p>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-4">
                                    <label class="control-label">Мать:</label>
                                    <span data-bind="text: $parent.formatFioMother"></span>
                                </div>
                                <div class="col-lg-4">
                                    <label class="control-label">Дата рождения матери:</label>
                                    <span data-bind="text: $parent.formatBirhtDateMother"></span>
                                </div>
                                <div class="form-group col-lg-4">
                                    <label for="inpFamilyMother" class="control-label col-lg-6">Семейное положение:</label>
                                    <div class="col-lg-6">
                                        <select class="form-control" id="inpFamilyMother"
                                                data-bind="options: $parents[2].dicMaritalStatusTypes, optionsText: 'name',  value: $parent.MotherMarriedType, optionsCaption: 'Выберите семейное положение матери...', disable: $parent.ConfirmOriginal"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="row" data-bind="with: $parent">
                                <div class="form-group col-lg-4">
                                    <label for="inpChildCount" class="control-label col-lg-8">Ребенок по счету:</label>
                                    <div class="col-lg-4">
                                        <input class="form-control" id="inpChildCount"
                                               data-bind="value: MotherChildCount  , disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group col-lg-4">
                                    <label for="inpPregnancyCount" class="control-label col-lg-8">Беременность по счету:</label>
                                    <div class="col-lg-4">
                                        <input class="form-control" id="inpPregnancyCount"
                                               data-bind="value: MotherPregnancyCount, disable: ConfirmOriginal">
                                    </div>
                                </div>
                                <div class="form-group col-lg-4">
                                    <label for="inpBirthCount" class="control-label col-lg-8">Роды по счету:</label>
                                    <div class="col-lg-4">
                                        <input class="form-control" id="inpBirthCount"
                                               data-bind="value: MotherBirthCount  , disable: ConfirmOriginal">
                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>
                </div>

            </div>
            
            <div class="panel panel-info" data-bind="visible: MomDeath">
                
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordionDeath" href="#form2009DeathInfoPanel">
                            <span>Учетная форма № 2009-1/у</span>
                        </a>
                    </h4>
                </div>
                
                <div id="form2009DeathInfoPanel" class="panel-collapse collapse" data-bind="with: MedDeathReg">
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="inpNumKart" class="control-label col-lg-6">Номер карты:</label>
                            <div class="col-lg-6">
                                <input class="form-control" id="inpNumKart" data-bind="value: NumberDoc, disable: ConfirmOriginal" />
                            </div>
                        </div>
                        
                        <div class="form-group has-error col-lg-4 " data-bind="css:{'has-error' :!CardType.isValid()}">
                            <label for="inpTypeCard" class="col-lg-6">Тип карты:</label>
                            <div class="col-lg-6">
                                <select id="inpTypeCard" class="form-control"
                                        data-bind="options: CardTypeArray, optionsText: 'name',  value: CardType, optionsCaption: 'Выберите вид карты...',disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="inpRmn" class="control-label col-lg-6">РМН:</label>
                            <div class="col-lg-6">
                                <input class="form-control" id="inpRmn" data-bind="value: RMN, disable: ConfirmOriginal" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-6">
                            <label for="inpLevelMODeath" class="control-label col-lg-6">Уровень регионализации МО, где произошла смерть:</label>
                            <div class="col-lg-6">
                                <select class="form-control" id="inpLevelMODeath"
                                        data-bind="options: LevelsMoArray, optionsText: 'name', optionsValue: 'id', value: LevelMODeath, optionsCaption: 'Выберите уровень регионализации...', disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                        <div class="form-group has-error col-lg-6" data-bind="css:{'has-error' :!DeathOnResult.isValid()}">
                            <label for="inpDeathOnResult" class="col-lg-4">Смерть наступила в результате:</label>
                            <div class="col-lg-8">
                                <select id="inpDeathOnResult" class="form-control"
                                        data-bind="options: DeathOnResultArray, optionsText: 'name',  value: DeathOnResult, optionsCaption: 'Выберите в результате чего наступила смерть...',disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inpOrgAttachs" class="control-label col-lg-2">Организация прикрепления:</label>
                        <div class="input-group col-lg-10">
                            <span id="inpOrgAttachs" class="control-label col-lg-8" data-bind="text: formatAttachMO"></span>
                            
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inpFlAddressString" class="control-label col-lg-2">Адрес проживания пациента:</label>
                        <div class="input-group col-lg-10">
                            <span id="inpFlAddressString" class="control-label col-lg-8" data-bind="text: FlAddressString"></span>
                            <span class="input-group-btn col-lg-4">
                                <button type="submit" class="btn btn-primary" data-bind="click: $parents[1].btSelectFlAddress2009, disable: ConfirmOriginal"
                                        data-toggle="tooltip" data-placement="top" title="Выбрать новое место проживания">
                                    <span class="glyphicon glyphicon-search"></span>
                                </button>
                                <button type="button" class="btn btn-warning" data-bind="click: $parents[1].btRevertFlAddress2009, disable: ConfirmOriginal"
                                        data-toggle="tooltip" data-placement="top" title="Вернуть место проживания">
                                    <span class="glyphicon glyphicon-remove-sign"></span>
                                </button>
                            </span>
                        </div>
                    </div>

                    <div class="row">
                        <h4 class="text-center">Данные о беременности:</h4>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-6">
                            <label for="inpLevelMODeath" class="control-label col-lg-6">Дата взятия на учет по беременности:</label>
                            <div class="col-lg-6">
                                <input class="form-control" data-provide="datepicker" id="DtEnd1d"
                                       data-bind="datepicker: AccountPregnancyDate, event: { change: DateChangeForSetNull}, disable: ConfirmOriginal">
                            </div>
                        </div>
                        <div class="form-group col-lg-4">
                            <label class="control-label col-lg-6">Где состояла на учете:</label>
                            <div class="col-lg-6">
                                <div class="input-group col-lg-8">
                                    <span id="outAccountPregnancyMO" class="control-label col-lg-8" data-bind="text: formatAccountPregnancyMO"></span>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-6">
                            <label for="inpPregnancyPeriod" class="control-label col-lg-10">Срок беременности при постановке на учет (недели):</label>
                            <div class="col-lg-2">
                                <input class="form-control" id="inpPregnancyPeriod"
                                       data-bind="value: AccountPregnancyPeriod, disable: ConfirmOriginal">
                            </div>
                        </div>
                        <div class="form-group has-error col-lg-3" data-bind="css:{'has-error' :!BirthCount.isValid()}">
                            <label for="inpBirthCount" class="control-label col-lg-8">Роды по счету:</label>
                            <div class="col-lg-4">
                                <input class="form-control" id="inpBirthCount"
                                       data-bind="value: BirthCount , disable: ConfirmOriginal">
                            </div>
                        </div>
                        <div class="form-group has-error col-lg-3" data-bind="css:{'has-error' :!PregnancyCount.isValid()}">
                            <label for="inpPregnancyCount" class="control-label col-lg-8">Беременность по счету:</label>
                            <div class="col-lg-4">
                                <input class="form-control" id="inpPregnancyCount"
                                       data-bind="value: PregnancyCount, disable: ConfirmOriginal">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-6">
                            <label for="inpBirthLocation" class="control-label col-lg-6">Место родоразрешения/аборта:</label>
                            <div class="col-lg-6">
                                <select id="inpBirthLocation" class="form-control"
                                        data-bind="options: $parents[1].hBirthLocationArray, optionsText: 'name',  value: BirthLocation, optionsCaption: 'Выберите место родооазрешения/аборта...',disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                        <div class="form-group col-lg-6">
                            <label for="inpLevelMOBirth" class="control-label col-lg-6">Уровень регионализации МО, где произошло родоразрешение/аборт:</label>
                            <div class="col-lg-6">
                                <select class="form-control" id="inpLevelMOBirth"
                                        data-bind="options: LevelsMoArray, optionsText: 'name', optionsValue: 'id', value: LevelMOBirth, optionsCaption: 'Выберите уровень регионализации...', disable: ConfirmOriginal"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group has-error" data-bind="css:{'has-error' :!PregnancyPeriod.isValid()}">
                        <label for="inpPregnancyPeriod" class="control-label col-lg-6">Срок беременности при родоразрешении/аборте (недели):</label>
                        <div class="col-lg-6">
                            <input class="form-control" id="inpPregnancyPeriod"
                                   data-bind="value: PregnancyPeriod, disable: ConfirmOriginal">
                        </div>
                    </div>
                </div>
            </div>
            <div class="checkbox" data-bind="with: MedDeathReg">
                <label>
                    <input id="inpIsConfirm" type="checkbox" data-bind="checked: Confirm, disable: ConfirmOriginal" />
                    <font data-bind="style: { color: Confirm() ? 'green' : 'red' }">
                        <strong>Подтверждаю, что все данные введены и проверены</strong><br>
                        <span class="danger">Для взаимодействия с внешними системами свидетельство должно быть подтверждено *</span>
                    </font>
                </label>
            </div>
        </div>
    </form>
</script>
<script type="text/html" id="select-from-list-mkb-template">
    <form>
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Поиск</h4>
        </div>
        <div class="scroll">
            <div id="SickCaсheArray" class="list-group"
                 data-bind="foreach: mkbArray">
                <a href="#" class="list-group-item"
                   data-bind="text: publicCode+ ' ' + name , click: $parent.selectedMkb, css: { 'active' : $parent.selectedMkb == $data }">
                </a>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Закрыть</button>
            <button type="button" class="btn btn-primary btn-sm" data-bind="click: btSelectMkb, enable: selectedMkb">
                <span class="glyphicon glyphicon-remove"></span>Выбрать
            </button>
        </div>
    </form>
</script>
<script type="text/html" id="select-mkb-template">
    
    <form class="form-horizontal" role="form">
        <div class="row">
            <div class="form-group col-xs-4">
                <label for="inpCodeMkb" class="control-label col-xs-3">Код:</label>
                <div class="col-xs-7">
                    <input class="form-control" id="inpCodeMkb" data-bind="value: inputCode,enterKey: 'CodeMkb', valueUpdate: 'afterkeydown', event:{keypress: keypressCodeMKB}, disable: ConfirmOriginal" />
                </div>
            </div>
            <div class="form-group col-xs-7">
                <label for="inpNameMkb" class="control-label col-xs-5">Наименование:</label>
                <div class="col-xs-7">
                    <input class="form-control" id="inpNameMkb" data-bind="value: inputName, valueUpdate: 'afterkeydown', event:{keypress: keypressNameMKB}, disable: ConfirmOriginal" />
                </div>
            </div>

            <button type="button" class="btn btn-primary btn-sm" data-bind="click: btSearchName, enable: inputName()  &&  !ConfirmOriginal()">
                <span class="glyphicon glyphicon-search"></span>
            </button>
        </div>
    </form>
    <div class="form-group" data-bind="visible: isErrors">
        <ul class="text-danger" data-bind="foreach: errors">
            <li data-bind="text: $data"></li>
        </ul>
    </div>
    <div class="row">
        <p data-bind="text: formatSelected"></p>
    </div>
    
</script>
<script type="text/html" id="searchResultDeath-template">
    <div class="form-group">
        <ul class="text-danger" data-bind="foreach: errors">
            <li data-bind="text: $data"></li>
        </ul>
    </div>
    <div data-bind="visible: $parent.isLoadingResults">Загрузка...</div>
    <div class="row">
        <div class="col-lg-6">
            <div class="form-group">
                <div class="col-lg-offset-4">
                    <input type="radio" name="flavorGroup" value="all" data-bind="checked: strConfirm" />&nbsp;Все
                    <input type="radio" name="flavorGroup" value="confirmed" data-bind="checked: strConfirm" />&nbsp;Подтвержденные
                    <input type="radio" name="flavorGroup" value="notconfirmed" data-bind="checked: strConfirm" />&nbsp;Не подтвержденные
                </div>
            </div>
            <div class="form-group ">
                <label for="inpFioFl" class="control-label col-lg-4">ФИО:</label>
                <div class="col-lg-8">
                    <input type="text" class=" form-control" id="inpFioFl"
                           data-bind="value: fioFl">
                </div>
            </div>
            <div>
                <div class="col-lg-8">
                    <div class="form-group">
                        <label for="beginDateVdDeath" class="control-label col-lg-6">Дата выдачи: с:</label>
                        <div class="col-lg-6">
                            <input class="form-control" data-provide="datepicker" id="beginDateVdDeath"
                                   data-bind="datepicker: beginDateVdDeath, event: { change: DateChangeForSetNull}">
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label for="endDateVdDeath" class="control-label col-lg-2">по:</label>
                        <div class="col-lg-10">
                            <input class="form-control" data-provide="datepicker" id="endDateVdDeath"
                                   data-bind="datepicker: endDateVdDeath, event: { change: DateChangeForSetNull}">
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="col-lg-8">
                    <div class="form-group">
                        <label for="beginDateDeath" class="control-label col-lg-6">Дата смерти с:</label>
                        <div class="col-lg-6">
                            <input class="form-control" data-provide="datepicker" id="beginDateDeath"
                                   data-bind="datepicker: beginDateDeath, event: { change: DateChangeForSetNull}">
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label for="endDateDeath" class="control-label col-lg-2">по:</label>
                        <div class="col-lg-10">
                            <input class="form-control" data-provide="datepicker" id="endDateDeath"
                                   data-bind="datepicker: endDateDeath, event: { change: DateChangeForSetNull}">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="inpTypeDeath" class="col-lg-4 control-label">Причина смерти:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpTypeDeath"
                            data-bind="options: $parent.hDeathTypesArray, optionsText: 'name',  value: typeDeath, optionsCaption: 'Выберите причину смерти...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="inpLocationDeath" class="col-lg-4 control-label">Где умер:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpLocationDeath"
                            data-bind="options: $parent.locationsArray, optionsText: 'name',  value: locationDeath, optionsCaption: 'Выберите место смерти...'"></select>
                </div>
            </div>

            <div class="form-group ">
                <label for="inpNum" class="control-label col-lg-4">Номер:</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" id="inpNum"
                           data-bind="value: num">
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="form-group">
                <label for="inpPersDRegType" class="col-lg-4 control-label">Установлено:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpPersDRegType"
                            data-bind="options: $parent.hPersDRegTypesArray, optionsText: 'name',  value: TPersonal, optionsCaption: 'Выберите кем установлена смерть...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="postWhoEstablished" class="control-label col-lg-4">Кто установил:</label>
                <label id="postWhoEstablished" class="control-label col-lg-6" data-bind="text: formatPostWhoEstablished"></label>
                <div class=" input-group col-lg-2">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary" data-bind="click: $parent.btSearchPostWhoEstablished">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </span>
                </div>
            </div>
            <h4 class="col-lg-offset-4">Кто выдал:</h4>
            <div class="form-group">
                <label class="col-lg-12" data-bind="text: 'МО:'+ $parent.orgName()"></label>
            </div>
            <div class="form-group">
                <label class="col-lg-8" data-bind="text: 'ФИО:' + formatReg()"></label>
                <div class="input-group col-lg-4">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary" data-bind="click: $parent.btSearchReg">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </span>
                </div>
            </div>
            <h4 class="col-lg-offset-4">Заболевания и осложнения</h4>
            <div data-bind="template: { name: 'control-mkb-template', data: findSiskDataModel}"></div>
        </div>
    </div>
</script>
<script type="text/html" id="control-mkb-template">
    <div>
        <div class="col-xs-4">
            <div class="form-group">
                <label for="inpCodeMkb" class="col-lg-3 control-label">Код:</label>
                <div class="col-md-9">
                    <input class=" form-control" id="inpCodeMkb" data-bind="    value: startPublicCode, enterKey: 'CodeMkb', valueUpdate: 'afterkeydown', event: { keypress: keypressCodeMKB }" />
                    
                </div>
            </div>
        </div>
        <div class="col-xs-8">
            <div class="form-group">
                <label for="inpNameMkb" class="col-lg-4 control-label">Наименование:</label>
                <div class="col-md-8">
                    <input class="form-control" id="inpNameMkb" data-bind="value: substrSiskName, valueUpdate: 'afterkeydown', event:{keypress: keypressNameMKB}" />
                </div>
            </div>
        </div>
    </div>
    
    <div>
        <span class="alert alert-danger" data-bind="visible:notfoundMessage ,text: notfoundMessage"></span>
        <p data-bind="text: formatSelected"></p>
    </div>
</script>
<script id="list-mkb-template" type="text/html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Поиск:</h4>
    </div>
    <div class="modal-body">
        <div class="scroll">
            <div id="SickCaсheArray" class="list-group"
                 data-bind="foreach: foundSisks">
                <a href="#" class="list-group-item"
                   data-bind="text: publicCode+ ' ' + name , click: $parent.selectedSick, css: { 'active' : $parent.selectedSick == $data }">
                </a>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default btn-sm" data-bind="click: btHide">Закрыть</button>
            <button type="button" class="btn btn-primary btn-sm" data-bind="click: btSelectSick, enable: selectedSick">
                <span class="glyphicon glyphicon-remove"></span>Выбрать
            </button>
        </div>
    </div>
</script>
<script type="text/html" id="searchResultDeathPerinatal-template">
    <div class="form-group">
        <ul class="text-danger" data-bind="foreach: errors">
            <li data-bind="text: $data"></li>
        </ul>
    </div>
    <div data-bind="visible: $parent.isLoadingResults">Загрузка...</div>
    <div class="row">
        <div class="col-lg-6">
            <div class="form-group">
                <div class="col-lg-offset-4">
                    <input type="radio" name="flavorGroup" value="all" data-bind="checked: strConfirm" />&nbsp;Все
                    <input type="radio" name="flavorGroup" value="confirmed" data-bind="checked: strConfirm" />&nbsp;Подтвержденные
                    <input type="radio" name="flavorGroup" value="notconfirmed" data-bind="checked: strConfirm" />&nbsp;Не подтвержденные
                </div>
            </div>
            <div class="form-group ">
                <label for="inpFioFl" class="control-label col-lg-4">ФИО матери:</label>
                <div class="col-lg-8">
                    <input type="text" class=" form-control" id="inpFioFl"
                           data-bind="value: fioMother">
                </div>
            </div>
            <div>
                <div class="col-lg-8">
                    <div class="form-group">
                        <label for="beginDateVdDeath" class="control-label col-lg-6">Дата выдачи: с:</label>
                        <div class="col-lg-6">
                            <input class="form-control" data-provide="datepicker" id="beginDateVdDeath"
                                   data-bind="datepicker: beginDateVdDeath, event: { change: DateChangeForSetNull}">
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label for="endDateVdDeath" class="control-label col-lg-2">по:</label>
                        <div class="col-lg-10">
                            <input class="form-control" data-provide="datepicker" id="endDateVdDeath"
                                   data-bind="datepicker: endDateVdDeath, event: { change: DateChangeForSetNull}">
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="col-lg-8">
                    <div class="form-group">
                        <label for="beginDateDeath" class="control-label col-lg-6">Дата смерти с:</label>
                        <div class="col-lg-6">
                            <input class="form-control" data-provide="datepicker" id="beginDateDeath"
                                   data-bind="datepicker: beginDateDeath, event: { change: DateChangeForSetNull}">
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label for="endDateDeath" class="control-label col-lg-2">по:</label>
                        <div class="col-lg-10">
                            <input class="form-control" data-provide="datepicker" id="endDateDeath"
                                   data-bind="datepicker: endDateDeath, event: { change: DateChangeForSetNull}">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-2">
                    <input type="radio" name="StillbornGroup" value="all" data-bind="checked: strStillborn" />&nbsp;Все
                </div>
                <div class="col-lg-4">
                    <input type="radio" name="StillbornGroup" value="isStillborn" data-bind="checked: strStillborn" />&nbsp;Мертворожденный
                </div>
                <div class="col-lg-6">
                    <input type="radio" name="StillbornGroup" value="isNotStillborn" data-bind="checked: strStillborn" />&nbsp;Умер на 1-й неделе жизни
                </div>
            </div>
            <div class="form-group">
                <label for="inpLocationDeath" class="col-lg-4 control-label">Где умер:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpLocationDeath"
                            data-bind="options: $parent.locationsArray, optionsText: 'name',  value: locationDeath, optionsCaption: 'Выберите место смерти...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="inpMatureDeath" class="col-lg-4 control-label">Доношенность:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpMatureDeath"
                            data-bind="options: $parent.matureArray, optionsText: 'name',  value: Mature, optionsCaption: 'Выберите доношенность...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="inpChildBornType" class="col-lg-4 control-label">Ребенок родился:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpChildBornType"
                            data-bind="options: $parent.сhildBornTypeArray, optionsText: 'name',  value: ChildBornType, optionsCaption: 'Выберите как родился ребенок...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="inpRelBirth" class="col-lg-4 control-label">Смерть наступила:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpRelBirth"
                            data-bind="options: $parent.bDeathTypeArray, optionsText: 'name',  value: RelBirth, optionsCaption: 'Выберите как наступила смерть...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="inpTypeDeathPerinatal" class="col-lg-4 control-label">Смерть произошла:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpTypeDeathPerinatal"
                            data-bind="options: $parent.hDeathTypesArray, optionsText: 'name',  value: Type, optionsCaption: 'Выберите как произошла смерть...'"></select>
                </div>
            </div>
            <div class="form-group ">
                <label for="inpNum" class="control-label col-lg-4">Номер:</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" id="inpNum"
                           data-bind="value: Num">
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="form-group ">
                <label for="inpFioFl" class="control-label col-lg-4">ФИО ребенка:</label>
                <div class="col-lg-8">
                    <input type="text" class=" form-control" id="inpFioFl"
                           data-bind="value: fioFl">
                </div>
            </div>
            <div class="form-group">
                <label for="inpPersDRegType" class="col-lg-4 control-label">Установлено:</label>
                <div class="col-md-8">
                    <select class="form-control" id="inpPersDRegType"
                            data-bind="options: $parent.hPersDRegTypesArray, optionsText: 'name',  value: TPersonal, optionsCaption: 'Выберите кем установлена смерть...'"></select>
                </div>
            </div>
            <div class="form-group">
                <label for="postWhoEstablished" class="control-label col-lg-3">Кто установил:</label>
                <label id="postWhoEstablished" class="control-label col-lg-7" data-bind="text: formatPostWhoEstablished"></label>
                <div class="col-lg-2 input-group">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary" data-bind="click: $parent.btSearchPostWhoEstablishedPerinatal">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-3">
                    <label>Кто выдал:</label>
                </div>
                <div class="col-lg-9">
                    <div>
                        <label class="control-label col-lg-2">МО:</label>
                        <label class="col-lg-10" data-bind="text: $parent.orgName"></label>
                    </div>
                    <div>
                        <label class="control-label col-lg-2">ФИО:</label>
                        <label class="control-label col-lg-8" data-bind="text: formatReg"></label>
                        <div class="input-group col-lg-2">
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-primary" data-bind="click: $parent.btSearchRegPerinatal">
                                    <span class="glyphicon glyphicon-search"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <h4 class="col-lg-offset-4">Заболевание или осложнение матери:</h4>
            <div data-bind="template: { name: 'select-mkb-template', data: selectMkbModelMother}"></div>
            <h4 class="col-lg-offset-4">Заболевание или осложнение ребенка:</h4>
            <div data-bind="template: { name: 'select-mkb-template', data: selectMkbModelChild}"></div>
        </div>
    </div>
</script>

        <!-- ko with: resendsv --><!-- /ko -->
<!--Templates-->

        <!-- ko with: register --><!-- /ko -->

        <!-- ko with: applicationAttach --><!-- /ko -->

        <!-- ko with: registerExternal --><!-- /ko -->

        <!-- ko with: personalMO --><!-- /ko -->

        <!-- ko with: targetAcc --><!-- /ko -->

        <!-- ko with: checkDeath --><!-- /ko -->

        <!-- ko with: manage --><!-- /ko -->


        <!-- ko with: admin --><!-- /ko -->

        <!-- ko with: adresAdmin --><!-- /ko -->

        <!-- ko with: staffSurRpn --><!-- /ko -->

        <!-- ko with: login --><!-- /ko -->

        <hr>
        <footer>
            <p class="navbar-text navbar-left">© 2015 – приложение РПН Версия: 2.2.3.0
            
            
            </p>
            <p class="navbar-text navbar-right" data-bind="if: loggedIn">
                <span data-bind="text: formatOrgName">Товарищество с ограниченной ответственностью "Республиканский семейно- врачебный центр"</span>
            </p>
        </footer>
    </div>
    <script src="/bundles/prettify?v="></script>

    <script src="/bundles/jquery?v=_Bx8o9ISTuZE6WXA3vjjVKDmaEQdNpMxSM2oOCb9F9M1"></script>


    <script src="/bundles/JsTree?v=xzlZgI2fbUSw2vyCIz6RhgARQklwhXyNAqkM_CUQOds1"></script>

    <script src="/bundles/globalize?v=ebnTdNQ0gEiplqvOXhsMto31ftNLU9d2eHE4oDRp6dU1"></script>

    <script src="/bundles/knockout?v=IxNMoYuVPm6scPQlFPyk50K9f4WaKiOyGVEWFkGmUSY1"></script>

    <script src="/bundles/app?v=5Qjs7FvwMUyoMQP9xLrxEeVO5YGXFyJBbZPs8GFord41"></script>

    <script src="/bundles/bootstrap?v=izO9c1RQKx6e1KxC7cd0tajqO9CLDYmJ0LzNgj1WwOk1"></script>

    
    
    <link href="/Content/cssTree?v=OSdKX5r8kIWk_grRPnfY7gjefL4vXFcPt76kt-IcI0U1" rel="stylesheet">

<!-- ko with: NewAr -->
<div id="ModalNewArSerch" class="modal fade">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">?</span></button>
                <h4 class="modal-title">Поиск адреса</h4>
            </div>
           
            <div class="modal-body">
                <!--TODO: не выводятся ошибки валидации-->
                <div class="form-group">
                    <ul id="errorsAdr" class="text-danger">
                        
                    </ul>
                </div>
                
                <div class="row">
                    <p id="NewArAdressString"></p>
                </div>
                <div class="row">
                    <div class="col-xs-5 col-sm-5">
                        <form class="navbar-form has-error" role="form" data-bind=" css:{'has-error' :!addressType.isValid()}">
                            <div class="row">
                                <label>Тип адреса:</label>
                            </div>
                            <div class="row">
                                <select id="addressType" class="form-control" data-bind="options: addressTypeList, optionsText: 'name', value: addressType, optionsCaption: 'Выберите тип адреса...'"><option value="">Выберите тип адреса...</option><option value="">Фактическое место жительства</option><option value="">Регистрация по месту жительства (прописка)</option><option value="">Регистрация по месту временного пребывания</option><option value="">Место рождения</option></select><span style="display: none;" class="validationMessage"></span><span style="display: none;" class="validationMessage"></span>
                            </div>
                        </form>
                    </div>
                    <div class="col-xs-4 col-sm-4">
                        <form class="navbar-form has-error" role="form" data-bind=" css:{'has-error' :!beginDate.isValid()}">
                            <div class="row">
                                <label>Дата началa:</label>
                            </div>
                            <div class="row">
                                <input class="form-control" data-provide="datepicker" id="beginDate" data-bind="datepicker: beginDate, event: { change: DateChangeForSetNull }" type="text">
                            </div>
                        </form>
                    </div>
                    <div class="col-xs-3 col-sm-3">
                        <form class="navbar-form" role="form">
                            <div class="row">
                                <label>Основной:</label>
                            </div>
                            <div class="row">
                                <input id="isMainAdr" data-bind="checked: isMain" type="checkbox">
                            </div>    
                        </form>
                    </div>
                </div>
             
                <div class="row">
                    <div class="col-xs-8 col-sm-6">
                        <form class="navbar-form" role="form">
                            <div class="input-group add-on" style="display: block">
                                <input id="NewArFilterSerch" class="form-control" placeholder="Фильтр улиц" type="text">
                                <div class="input-group-btn" id="BtnNewArFilterSerch">
                                    <button class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>
                                </div>
                            </div>
                        </form>
                        <div aria-busy="false" aria-activedescendant="at_1" tabindex="0" aria-multiselectable="true" role="tree" class="jstree jstree-1 jstree-default" style="border: 1px; height: 500px; overflow: auto" id="jstree_demo_div"><ul role="group" class="jstree-container-ul jstree-children"><li class="jstree-node  jstree-closed jstree-last" id="at_1" aria-expanded="false" aria-labelledby="at_1_anchor" aria-level="1" aria-selected="false" role="treeitem"><i role="presentation" class="jstree-icon jstree-ocl"></i><a id="at_1_anchor" tabindex="-1" href="#" class="jstree-anchor"><i role="presentation" class="jstree-icon jstree-themeicon"></i>Казахстан</a></li></ul></div>
            
                    </div>

                    <div class="col-xs-4 col-sm-6">
                        <form class="navbar-form" role="form">
                            <div class="input-group add-on" style="display: block">
                                <input id="NewArFilterSerchBuilding" class="form-control" placeholder="Поиск дома" type="text">
                                <div class="input-group-btn" id="BtnNewArBuldingSerch">
                                    <button class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>
                                </div>
                            </div>
                        </form>

                        <div style="border: 1px; height: 500px; overflow: auto" id="jstree_demo_div2">

                        </div>
                    </div>

                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id="btnCloseNewAr" data-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-primary" data-bind="click: EventSave" disabled="" id="btnSaveAdress">Сохранить</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script>
    var element = $('#addressType')[0];
    ko.cleanNode(element);
</script>
<!-- /ko -->



    <script>
          Globalize.culture("ru-RU");
    </script>

    <div class="modal fade" id="myAlertModal">
        <div class="modal-dialog">
            <div class="modal-content">
                
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal">?</button>
                    
                    <p data-bind="text: alertMessage"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Закрыть</button>
                    
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    <div class="modal fade" id="myConfirmModal" data-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" data-bind="click: btnAlertConfirmNo">?</button>
                    <p data-bind="text: alertMessage"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" data-bind="click: btnAlertConfirmNo">Отмена</button>
                    <button type="button" class="btn btn-primary" data-bind="click: btnAlertConfirmYes">Продолжить</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


<datalist id="lstraion"><option value="Турксибский"></option><option value="Алмалинский"></option><option value="Алатауский"></option><option value="Ауэзовский"></option><option value="Бостандыкский"></option><option value="Медеуский"></option><option value="Жетысуский"></option><option value="Наурызбайский"></option></datalist></body>